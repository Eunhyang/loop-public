---
entity_type: Task
entity_id: tsk-023-15
entity_name: "Dashboard v2 - Project/Program Edit Mode 구현"
created: 2026-01-08
updated: 2026-01-08

# === 계층 ===
project_id: prj-023
parent_id: null
aliases:
  - tsk-023-15
  - "Dashboard v2 - Project/Program Edit Mode 구현"

# === 실행 ===
assignee: "김은향"
status: doing
priority: high
type: dev
target_project: null

# === 일정 ===
start_date: 2026-01-08
due: 2026-01-08
closed: null

# === 관계 ===
validates: []
outgoing_relations: []

# === 분류 ===
tags:
  - dashboard-v2
  - edit-mode
  - project-form
  - program-form
---

# Dashboard v2 - Project/Program Edit Mode 구현

> Task ID: `tsk-023-15` | Project: [[prj-023]] | Status: doing

---

## 목표

TaskForm edit 모드 패턴을 참고하여 ProjectForm, ProgramForm의 edit 모드 구현

---

## Notes

### 현재 상태

| Entity | API (get/update) | Query hooks | Form edit mode |
|--------|------------------|-------------|----------------|
| Task | ✅ | ✅ useTask, useUpdateTask | ✅ 작동 |
| Project | ❌ create만 | ❌ create만 | ❌ "not implemented" |
| Program | ❌ create만 | ❌ create만 | ❌ "not implemented" |

### 구현 계획

#### 1. Project Edit Mode

**1-1. `features/projects/api.ts`**
```typescript
// 추가
getProject: (id: string) =>
    httpClient.get<{ project: Project }>(`/api/projects/${id}`),

updateProject: (id: string, data: Partial<Project>) =>
    httpClient.put<Project>(`/api/projects/${id}`, data),
```

**1-2. `features/projects/queries.ts`**
```typescript
// 추가
export const useProject = (id: string | null) => { ... }
export const useUpdateProject = () => { ... }
```

**1-3. `features/projects/components/ProjectForm.tsx`**
- mode 'edit' 처리 로직 구현
- useProject(id)로 데이터 로드
- handleUpdate 패턴으로 필드별 업데이트
- TaskForm과 동일한 UI 패턴 (Properties Grid)

**편집 가능 필드:**
- entity_name (제목)
- status (select)
- owner (select)
- priority_flag (select)
- parent_id (Track select)
- hypothesis_text (textarea)

---

#### 2. Program Edit Mode

**2-1. `features/programs/api.ts`**
```typescript
// 추가
getProgram: (id: string) =>
    httpClient.get<{ program: Program }>(`/api/programs/${id}`),

updateProgram: (id: string, data: Partial<Program>) =>
    httpClient.put<Program>(`/api/programs/${id}`, data),
```

**2-2. `features/programs/queries.ts`**
```typescript
// 추가
export const useProgram = (id: string | null) => { ... }
export const useUpdateProgram = () => { ... }
```

**2-3. `features/programs/components/ProgramForm.tsx`**
- mode 'edit' 처리 로직 구현
- useProgram(id)로 데이터 로드
- handleUpdate 패턴으로 필드별 업데이트

**편집 가능 필드:**
- entity_name (제목)
- program_type (select)
- owner (select)
- description (textarea)

---

### 수정 파일 목록

| 파일 | 변경 내용 |
|------|----------|
| `features/projects/api.ts` | getProject, updateProject 추가 |
| `features/projects/queries.ts` | useProject, useUpdateProject 추가 |
| `features/projects/components/ProjectForm.tsx` | edit 모드 UI 구현 |
| `features/programs/api.ts` | getProgram, updateProgram 추가 |
| `features/programs/queries.ts` | useProgram, useUpdateProgram 추가 |
| `features/programs/components/ProgramForm.tsx` | edit 모드 UI 구현 |

---

### 검증 방법

1. `npm run build` - 타입 에러 없이 빌드
2. Kanban에서 Task 클릭 → Task Drawer 열기
3. Relations의 Project 클릭 → Project edit Drawer 열기 확인
4. Project 필드 수정 → API 호출 및 반영 확인
5. Program 생성 후 → Program edit Drawer 테스트

---

## Checklist

- [ ] Project API 추가 (get, update)
- [ ] Project queries 추가 (useProject, useUpdateProject)
- [ ] ProjectForm edit 모드 구현
- [ ] Program API 추가 (get, update)
- [ ] Program queries 추가 (useProgram, useUpdateProgram)
- [ ] ProgramForm edit 모드 구현
- [ ] 빌드 확인
- [ ] 테스트

---

## 참고 문서

- [[prj-023]] - 소속 프로젝트
- `TaskForm.tsx` - edit 모드 참고 패턴
