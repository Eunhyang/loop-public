---
entity_type: Task
entity_id: "tsk-023-30"
entity_name: "Dashboard v2 - TaskForm type 필드 경로 수정"
created: 2026-01-09
updated: 2026-01-09
status: doing

# === 계층 ===
parent_id: "prj-023"
project_id: "prj-023"
aliases: ["tsk-023-30"]

# === 관계 ===
outgoing_relations: []
validates: []
validated_by: []

# === Task 전용 ===
assignee: "김은향"
start_date: 2026-01-09
due: 2026-01-09
priority: medium
estimated_hours: null
actual_hours: null

# === Task 유형 (dev Task 연동용) ===
type: bug
target_project: loop

# === 분류 ===
tags: ["bugfix", "dashboard-v2", "taskform"]
priority_flag: medium
---

# Dashboard v2 - TaskForm type 필드 경로 수정

> Task ID: `tsk-023-30` | Project: `prj-023` | Status: doing

## 목표

**완료 조건**:
1. Edit 모드에서 Task Type chips가 정상 표시됨
2. Type 변경이 정상 동작함

---

## 상세 내용

### 배경

TaskForm에서 Edit 모드일 때 type 필드(chips)가 표시되지 않는 버그 발견.

**원인**: API-프론트엔드 간 데이터 구조 불일치
- API 반환: `constants.task.types` (중첩 구조)
- 프론트엔드 기대: `constants.task_types` (플랫 구조)

### 작업 내용

`TaskForm.tsx`에서 2곳의 경로 수정:
1. 라인 188: Create 모드 select options
2. 라인 317: Edit 모드 chip buttons

```typescript
// Before
dashboardData?.constants?.task_types

// After
dashboardData?.constants?.task?.types
```

---

## 체크리스트

- [ ] TaskForm.tsx 라인 188 수정 (Create 모드)
- [ ] TaskForm.tsx 라인 317 수정 (Edit 모드)
- [ ] Dashboard v2 실행하여 테스트

---

## Notes

### Tech Spec

**파일**: `dashboard-v2/src/features/tasks/components/TaskForm.tsx`

**변경 사항**:
| 위치 | 현재 코드 | 수정 코드 |
|------|----------|----------|
| 라인 188 | `dashboardData?.constants?.task_types` | `dashboardData?.constants?.task?.types` |
| 라인 317 | `dashboardData?.constants?.task_types` | `dashboardData?.constants?.task?.types` |

### 검증 방법

1. Dashboard v2 실행: `cd public/dashboard-v2 && npm run dev`
2. Kanban에서 기존 Task 카드 클릭 → Edit Drawer 열기
3. Type Chips (dev, bug, strategy, research, ops, meeting) 표시 확인
4. Chip 클릭 시 type 변경 동작 확인
5. Create Task에서도 Type 선택 정상 작동 확인

### 구현 완료 (2026-01-09)

**변경사항**:
- `TaskForm.tsx` 라인 188: `dashboardData?.constants?.task_types` → `dashboardData?.constants?.task?.types`
- `TaskForm.tsx` 라인 317-319: `dashboardData?.constants?.task_types` → `dashboardData?.constants?.task?.types`

**빌드 검증**:
- TypeScript 컴파일 성공
- Vite 빌드 성공 (1.48s)
- Bundle size: 278KB (main), 445KB (vendor)

**테스트 필요**:
- [ ] Edit Drawer에서 Type chips 표시 확인
- [ ] Type 변경 동작 확인
- [ ] Create Task에서 Type 선택 동작 확인

---

## 참고 문서

- [[prj-023]] - 소속 Project
- Plan Mode 분석 결과: `/Users/gim-eunhyang/.claude/plans/buzzing-herding-duckling.md`

---

**Created**: 2026-01-09
**Assignee**: 김은향
**Due**: 2026-01-09
