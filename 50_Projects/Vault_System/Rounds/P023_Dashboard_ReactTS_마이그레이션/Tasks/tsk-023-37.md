---
entity_type: Task
entity_id: "tsk-023-37"
entity_name: "Dashboard - Project Detail 페이지 구현"
created: 2026-01-09
updated: 2026-01-09
status: doing

# === 계층 ===
parent_id: "prj-023"
project_id: "prj-023"
aliases: ["tsk-023-37"]

# === 관계 ===
outgoing_relations: []
validates: []
validated_by: []

# === Task 전용 ===
assignee: "김은향"
start_date: 2026-01-09
due: 2026-01-09
priority: medium
estimated_hours: null
actual_hours: null

# === Task 유형 (dev Task 연동용) ===
type: dev
target_project: null

# === 분류 ===
tags: []
priority_flag: medium
---

# Dashboard - Project Detail 페이지 구현

> Task ID: `tsk-023-37` | Project: `prj-023` | Status: doing

## 목표

**완료 조건**:
1. `/projects/:id` 라우트에서 프로젝트 상세 + 하위 태스크 목록 표시
2. 태스크 클릭 시 Task Drawer 열기

---

## 상세 내용

### 배경

prj-023 (Dashboard - React+TS 마이그레이션) 프로젝트의 FR-3 요구사항 구현.
현재 ProjectPage는 placeholder만 있음.

### 작업 내용

**수정 파일 4개:**

| 순서 | 파일 | 작업 |
|------|------|------|
| 1 | `queries/keys.ts` | `projectContext` key 추가 |
| 2 | `features/projects/api.ts` | `getProjectContext` API 함수 추가 |
| 3 | `features/projects/queries.ts` | `useProjectContext` hook 추가 |
| 4 | `pages/Project/index.tsx` | 페이지 UI 구현 |

---

## 체크리스트

- [ ] Query key 추가 (`projectContext`)
- [ ] API 함수 추가 (`getProjectContext`)
- [ ] React Query hook 추가 (`useProjectContext`)
- [ ] ProjectPage UI 구현
- [ ] Task 클릭 → Drawer 연결 테스트

---

## Notes

### Tech Spec

**API 엔드포인트:**
- `/api/mcp/project/{id}/context` - 1회 호출로 Project + Tasks + Hypotheses 조회

**응답 구조:**
```typescript
interface ProjectContextResponse {
    project: Project;
    tasks: Task[];
    hypotheses: Array<{ entity_id: string; entity_name: string; status: string }>;
    parent_track: { entity_id: string; entity_name: string; status: string } | null;
}
```

**UI 구조:**
```
/projects/prj-023

┌─────────────────────────────────────────────────┐
│ Kanban / Dashboard - React+TS 마이그레이션      │  ← Breadcrumb
├─────────────────────────────────────────────────┤
│ Dashboard - React+TS 마이그레이션               │  ← 프로젝트명
│ prj-023 | Track: trk-2 | Owner: 김은향          │  ← 메타 정보
│ Status: doing | Priority: high                  │
├─────────────────────────────────────────────────┤
│ Tasks (36)                                      │
│                                                 │
│ ▸ doing (3)                                     │
│   ┃ tsk-023-01  Kanban - D&D 구현    @김은향    │  ← 클릭 시 Drawer
│   ┃ tsk-023-02  Calendar - 연동      @김은향    │
│                                                 │
│ ▸ todo (10)                                     │
│   ...                                           │
└─────────────────────────────────────────────────┘
```

**핵심 패턴:**
- React Query: `useProjectContext(id)` - enabled: !!id
- Drawer 열기: `openEntityDrawer({ type: 'task', mode: 'edit', id })`
- 기존 패턴 (Kanban, Calendar) 그대로 따름

### Codex Review Summary (2026-01-09)

**Critical Issues Found**: None
**Suggestions**: 11개

| 카테고리 | 제안 | 우선순위 |
|----------|------|---------|
| Loading states | 404/500 에러, 로딩/에러/빈 상태 UI | High |
| Task sorting | 그룹 내 정렬 기준 (priority, due) | Medium |
| Empty states | 태스크 0개, 빈 상태 버킷 처리 | Medium |
| Cache invalidation | Drawer 저장 후 refetch | Medium |
| Hypotheses/Track | null parent track fallback | Low |
| Auth | 권한 체크 (기존 시스템 활용) | Low |
| Pagination | 대량 태스크 대응 (현재 36개로 불필요) | Deferred |
| Accessibility | 키보드 네비게이션 | Deferred |
| i18n | 텍스트 로컬라이제이션 | Deferred |
| Testing | 쿼리 목/UI 테스트 | Deferred |

**적용 결정:**
- Loading/Error/Empty states: 구현 (High priority)
- Task sorting: priority → due 순 정렬 (Medium)
- Cache invalidation: dashboardInit 무효화로 처리 (기존 패턴)
- 나머지: 향후 개선 (현재 스코프 외)

### Todo
- [ ] Step 1: `queries/keys.ts` 수정
- [ ] Step 2: `features/projects/api.ts` 수정
- [ ] Step 3: `features/projects/queries.ts` 수정
- [ ] Step 4: `pages/Project/index.tsx` 구현 (Loading/Error/Empty states 포함)

### 작업 로그
<!--
작업 완료 시 아래 형식으로 기록 (workthrough 스킬 자동 생성)

#### YYYY-MM-DD HH:MM
**개요**: 2-3문장 요약

**변경사항**:
- 개발:
- 수정:
- 개선:

**핵심 코드**: (필요시)

**결과**: ✅ 빌드 성공 / ❌ 실패

**다음 단계**:
-->


---

## 참고 문서

- [[prj-023]] - 소속 Project
- Plan file: `/Users/gim-eunhyang/.claude/plans/hazy-strolling-prism.md`

---

**Created**: 2026-01-09
**Assignee**: 김은향
**Due**: 2026-01-09
