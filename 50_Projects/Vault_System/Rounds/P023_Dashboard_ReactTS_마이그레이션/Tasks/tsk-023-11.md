---
entity_type: Task
entity_id: "tsk-023-11"
entity_name: "Dashboard - DatePicker 라이브러리 도입"
created: 2026-01-08
updated: 2026-01-08
status: doing

# === 계층 ===
parent_id: "prj-023"
project_id: "prj-023"
aliases: ["tsk-023-11"]

# === 관계 ===
outgoing_relations: []
validates: []
validated_by: []

# === Task 전용 ===
assignee: "김은향"
start_date: 2026-01-08
due: 2026-01-08
priority: medium
estimated_hours: null
actual_hours: null

# === Task 유형 (dev Task 연동용) ===
type: dev
target_project: loop

# === 분류 ===
tags: ["dashboard", "datepicker", "react", "ui"]
priority_flag: medium
---

# Dashboard - DatePicker 라이브러리 도입

> Task ID: `tsk-023-11` | Project: `prj-023` | Status: doing

## 목표

**완료 조건**:
1. native HTML date input을 `react-tailwindcss-datepicker` 라이브러리로 교체
2. 모든 date input에서 캘린더 팝업이 정상 작동
3. 기존 기능 (날짜 선택, 필터링, API 업데이트) 유지

---

## 상세 내용

### 배경

Dashboard-v2의 `<input type="date">`가 브라우저 기본 date picker에 의존하고 있어, Chrome에서도 캘린더 아이콘 클릭 영역이 좁거나 팝업이 안 열리는 문제 발생. 브라우저 의존성 없이 일관된 UX 제공 필요.

### 작업 내용

1. **의존성 설치**: `react-tailwindcss-datepicker` 라이브러리 설치
2. **Tailwind 설정**: content 배열에 라이브러리 경로 추가
3. **DatePicker 래퍼 컴포넌트 생성**: ISO 문자열 ↔ 라이브러리 형식 변환
4. **DateFilters.tsx 마이그레이션**: 2개 input 교체 (173, 185줄)
5. **TaskForm.tsx 마이그레이션**: 4개 input 교체 (Create: 252, 263줄 / Edit: 402, 410줄)

---

## 체크리스트

- [ ] npm install react-tailwindcss-datepicker
- [ ] tailwind.config.js 업데이트
- [ ] DatePicker.tsx 래퍼 컴포넌트 생성
- [ ] DateFilters.tsx 마이그레이션
- [ ] TaskForm.tsx Create 모드 마이그레이션
- [ ] TaskForm.tsx Edit 모드 마이그레이션
- [ ] 빌드 및 테스트

---

## Notes

### Tech Spec

**라이브러리**: `react-tailwindcss-datepicker` v2.x
- React 19 네이티브 지원
- Tailwind CSS 내장
- TypeScript 타입 내장
- 번들 크기 ~15KB (dayjs 포함)

**수정 대상 파일**:

| 파일 | 위치 | 수정 내용 |
|------|------|----------|
| `DatePicker.tsx` | `src/components/common/` | **신규 생성** - 래퍼 컴포넌트 |
| `DateFilters.tsx` | `src/features/filters/...` | 2개 input 교체 (173, 185줄) |
| `TaskForm.tsx` | `src/features/tasks/...` | 4개 input 교체 (Create: 252, 263줄 / Edit: 402, 410줄) |
| `tailwind.config.js` | 루트 | content 배열에 라이브러리 경로 추가 |

**DatePicker 래퍼 컴포넌트 설계**:
```typescript
interface DatePickerProps {
  value: string | null;           // ISO date string (YYYY-MM-DD)
  onChange: (value: string | null) => void;
  placeholder?: string;
  minDate?: string;
  maxDate?: string;
  disabled?: boolean;
  compact?: boolean;              // Filter용 작은 스타일
  id?: string;
}
```

**마이그레이션 패턴**:
```tsx
// Before
<input type="date" value={...} onChange={...} className="input-filter" />

// After
<DatePicker value={...} onChange={...} compact={true} />
```

### Todo
- [ ] Step 1: 의존성 설치
- [ ] Step 2: Tailwind 설정 업데이트
- [ ] Step 3: DatePicker 래퍼 컴포넌트 생성
- [ ] Step 4: DateFilters.tsx 마이그레이션
- [ ] Step 5: TaskForm.tsx 마이그레이션
- [ ] Step 6: 테스트 및 검증

### 주의사항

1. **값 형식 변환**: 라이브러리는 `{startDate, endDate}` 형식 사용, 코드베이스는 ISO 문자열 → 래퍼에서 변환
2. **Edit 모드 onBlur 불필요**: 날짜 선택 시 캘린더가 닫히므로 자연스러운 커밋 포인트
3. **기존 validation 유지**: `handleDateChange`의 start/end 범위 검증 로직 유지

### Codex Review Findings (2026-01-08)

**Critical Issues Addressed:**

1. **Timezone/Format**: ISO date-only string (YYYY-MM-DD) 유지, UTC 변환 없음. 래퍼에서 `displayFormat="YYYY-MM-DD"` 명시.

2. **Null/Empty Handling**:
   - `value={null}` → 빈 상태, placeholder 표시
   - Clear 버튼으로 날짜 초기화 가능
   - Filter에서 null = "필터 없음"

3. **Single vs Range Mode**: `asSingle={true}`, `useRange={false}` 설정으로 단일 날짜 모드 강제. 래퍼가 `{startDate, endDate}` → ISO string 변환 처리.

4. **Start/End Validation**: 기존 `handleDateChange` 로직 그대로 유지 (start > end 시 auto-adjust)

5. **Tailwind Config**: Exact glob pattern:
   ```
   "./node_modules/react-tailwindcss-datepicker/dist/index.esm.{js,mjs}"
   ```

**Suggestions (Nice-to-have):**
- Accessibility: 라이브러리 기본 keyboard navigation + aria 지원 활용
- i18n: 현재 한국어 locale 불필요 (날짜 형식만 YYYY-MM-DD)
- Testing: 수동 테스트로 검증 (검증 방법 섹션 참조)

### 작업 로그
<!--
작업 완료 시 아래 형식으로 기록 (workthrough 스킬 자동 생성)

#### YYYY-MM-DD HH:MM
**개요**: 2-3문장 요약

**변경사항**:
- 개발:
- 수정:
- 개선:

**핵심 코드**: (필요시)

**결과**: ✅ 빌드 성공 / ❌ 실패

**다음 단계**:
-->


---

## 검증 방법

1. `npm run dev`로 개발 서버 실행
2. Kanban 페이지에서 Filter Panel의 Custom Range 날짜 선택 테스트
3. Task 생성 (Create Task 버튼) → Start/Due Date 선택 테스트
4. Task 편집 (카드 클릭) → Drawer에서 날짜 변경 → API 호출 확인
5. 브라우저 개발자 도구 Network 탭에서 PATCH 요청 확인

---

## 참고 문서

- [[prj-023]] - 소속 Project
- [react-tailwindcss-datepicker npm](https://www.npmjs.com/package/react-tailwindcss-datepicker)
- [React Tailwindcss Datepicker Documentation](https://react-tailwindcss-datepicker.vercel.app/)

---

**Created**: 2026-01-08
**Assignee**: 김은향
**Due**: 2026-01-08
