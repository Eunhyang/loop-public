---
entity_type: Task
entity_id: "tsk-023-01"
entity_name: "Dashboard - 필터 시스템 통합 구현"
created: 2026-01-08
updated: 2026-01-08
status: doing

# === 계층 ===
parent_id: "prj-023"
project_id: "prj-023"
aliases: ["tsk-023-01", "Dashboard - 필터 시스템 통합 구현"]

# === 관계 ===
outgoing_relations: []
validates: []
validated_by: []

# === Task 전용 ===
assignee: "김은향"
start_date: 2026-01-08
due: 2026-01-08
priority: high
estimated_hours: null
actual_hours: null

# === Task 유형 (dev Task 연동용) ===
type: dev
target_project: loop

# === 분류 ===
tags: ["dashboard", "filter", "react", "typescript"]
priority_flag: high
---

# Dashboard - 필터 시스템 통합 구현

> Task ID: `tsk-023-01` | Project: `prj-023` | Status: doing

## 목표

**완료 조건**:
1. URL params + localStorage 기반 필터 상태 통합
2. Phase 1/2 분리된 필터 파이프라인 구현
3. FilterPanel UI 완성 (Visibility, Project, Task, Date 섹션)
4. Filter Indicator 적용

---

## 상세 내용

### 배경

레거시 대시보드(`_dashboard/`)와 V2(`dashboard-v2/`) 필터 시스템 비교 분석 결과:
- V2에서 URL params와 React Context로 상태가 분리되어 관리 복잡
- localStorage 영속성 부재로 새로고침 시 설정 초기화
- Quick Date Filter UI, Visibility Toggles 등 누락 기능 존재

### 작업 내용

1. **필터 상태 통합**
   - `useUrlFilters.ts` - Navigation/Date 필터 (공유 가능)
   - `useLocalFilters.ts` - View Preferences (개인 설정)
   - `useCombinedFilters.ts` - 통합 상태 제공

2. **필터 파이프라인 분리**
   - Phase 1: Project 필터링 (allowedProjectIds)
   - Phase 2: Task 필터링 (assignee, status, priority, date)

3. **UI 컴포넌트**
   - VisibilityToggles: inactive members/projects/tasks
   - DateFilters: Range picker + Quick Date (Week/Month)
   - Filter Indicator: 활성 필터 표시

---

## 체크리스트

- [ ] types/filters.ts 생성
- [ ] constants/filterDefaults.ts 생성
- [ ] hooks/useLocalFilters.ts 구현
- [ ] hooks/useUrlFilters.ts 리팩토링
- [ ] hooks/useCombinedFilters.ts 구현
- [ ] selectors.ts Phase 1/2 분리
- [ ] FilterPanel/VisibilityToggles 완성
- [ ] FilterPanel/DateFilters 추가
- [ ] KanbanFilters에 Program 드롭다운 추가
- [ ] Filter Indicator 적용
- [ ] 새로고침 복원 테스트
- [ ] URL 공유 테스트

---

## Notes

### Todo
- [ ] PRD 생성 (prompt-enhancer)
- [ ] Codex PRD Review
- [ ] 구현 시작

### 작업 로그
<!--
작업 완료 시 아래 형식으로 기록 (workthrough 스킬 자동 생성)

#### YYYY-MM-DD HH:MM
**개요**: 2-3문장 요약

**변경사항**:
- 개발:
- 수정:
- 개선:

**핵심 코드**: (필요시)

**결과**: ✅ 빌드 성공 / ❌ 실패

**다음 단계**:
-->


---

## 참고 문서

- [[prj-023]] - 소속 Project (Dashboard - React+TS 마이그레이션)
- 레거시 대시보드: `public/_dashboard/js/components/filter-panel.js`
- V2 대시보드: `public/dashboard-v2/src/features/filters/`

---

**Created**: 2026-01-08
**Assignee**: 김은향
**Due**: 2026-01-08
