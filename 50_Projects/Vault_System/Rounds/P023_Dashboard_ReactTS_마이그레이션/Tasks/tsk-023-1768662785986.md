---
entity_type: Task
entity_id: tsk-023-1768662785986
entity_name: Pending Review 단순화 - Project Save 기반 + 탭 제거
created: '2026-01-18'
updated: '2026-01-18'
status: done
project_id: prj-023
parent_id: prj-023
assignee: 김은향
priority: medium
start_date: '2026-01-18'
due: '2026-01-18'
aliases:
- tsk-023-1768662785986
tags: []
type: dev
---

# Pending Review 단순화 - Project Save 기반 + 탭 제거

## Notes

### Summary
Pending Review 페이지에서 Project의 approve 버그를 수정하고, 불필요한 탭(approved/rejected/auto_applied)을 제거하여 UI를 단순화함.

### Problem
- Project pending review에서 validates, conditions_3y 등 필드 수정 후 approve해도 반영 안 됨
- 원인: `getModifiedFields()`가 suggested와 같은 값이면 빈 객체 반환 → API에 undefined 전달

### Solution
**Pending = Validation 용도** → Project Form에서 수정하고 Save하면 끝 (approve 복잡한 로직 불필요)

```
Before: Pending → review mode → getModifiedFields() → approve API → (버그)
After:  Pending → edit mode → Save API → pending 삭제
```

### Changes Made

**1. ProjectForm.tsx**
- `onSaveSuccess?: () => void` prop 추가
- edit mode 저장 성공 시 `onSaveSuccess?.()` 호출
- edit mode에서 `prefill`을 project 데이터 위에 병합 (suggested_fields가 초기값으로 적용됨)

**2. Pending/index.tsx**
- Project case: `mode="review"` → `mode="edit"` 변경
- `suggestedFields`를 `prefill`로 전달
- Save 성공 시 pending review 자동 삭제
- Approve 버튼 제거 (Dismiss/Reject만 남김)

**3. ReviewList.tsx**
- 탭 UI 제거 (pending만 표시)
- 필터 셀렉트 (Workflow, Run timestamp) + Delete Filtered 버튼 추가
- 필터 옵션을 pending 리뷰에서 동적으로 생성

**4. Pending/index.tsx (추가)**
- `activeTab` 상태 제거 (항상 'pending')
- `WorkflowFilters` 컴포넌트 사용 제거 (ReviewList로 통합)

### Commits
1. `refactor(pending): Simplify Project review to use edit mode with prefill`
2. `refactor(pending): Remove tabs, integrate filters into ReviewList`
