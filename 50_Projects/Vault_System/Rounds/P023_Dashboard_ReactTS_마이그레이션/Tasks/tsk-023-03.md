---
entity_type: Task
entity_id: "tsk-023-03"
entity_name: "Dashboard - 로그인 기능 구현"
created: 2026-01-08
updated: 2026-01-08
status: doing

# === 계층 ===
parent_id: "prj-023"
project_id: "prj-023"
aliases: ["tsk-023-03"]

# === 관계 ===
outgoing_relations: []
validates: []
validated_by: []

# === Task 전용 ===
assignee: "김은향"
start_date: 2026-01-08
due: 2026-01-08
priority: high
estimated_hours: null
actual_hours: null

# === Task 유형 (dev Task 연동용) ===
type: dev
target_project: loop

# === 분류 ===
tags: ["dashboard", "auth", "login"]
priority_flag: high
---

# Dashboard - 로그인 기능 구현

> Task ID: `tsk-023-03` | Project: `prj-023` | Status: doing

## 목표

**완료 조건**:
1. 로그인 페이지 UI 완성 (이메일/비밀번호 폼)
2. MCP API `/oauth/dashboard-login` 연동
3. JWT 토큰 저장 및 관리
4. Route Guard 구현 (인증 없으면 /login 리다이렉트)
5. isAdmin 판단 로직 정상 동작

---

## 상세 내용

### 배경

Dashboard V2는 현재 bypass 토큰 (`loop_2024_kanban_secret`)으로 인증을 우회하고 있음.
실제 로그인 기능을 구현하여 사용자별 권한(admin/member) 구분 필요.

### 기존 API 확인

**엔드포인트**: `POST /oauth/dashboard-login`

**요청**:
```json
{
  "email": "admin@sosilab.com",
  "password": "admin123"
}
```

**응답**:
```json
{
  "access_token": "eyJ...",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "mcp:read mcp:exec",
  "role": "admin"
}
```

---

## 체크리스트

- [ ] Login 페이지 UI 구현 (이메일/비밀번호 폼)
- [ ] 로그인 API 호출 함수 (`features/auth/api.ts`)
- [ ] 토큰 저장 (`authStorage.setToken()`)
- [ ] Route Guard 컴포넌트 구현
- [ ] bypass 토큰 제거 (`services/http.ts`)
- [ ] 401 시 /login 리다이렉트 활성화
- [ ] isAdmin 판단 (JWT decode 또는 role 저장)

---

## Notes

### PRD (Step 4에서 생성 예정)

_prompt-enhancer 스킬로 생성될 PRD가 여기에 채워집니다._

### 작업 로그

---

## 참고 문서

- [[prj-023]] - 소속 Project
- `/oauth/dashboard-login` API 정의: `api/oauth/routes.py:375-434`

---

**Created**: 2026-01-08
**Assignee**: 김은향
**Due**: 2026-01-08
