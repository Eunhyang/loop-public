---
entity_type: Task
entity_id: "tsk-023-1767974842230"
entity_name: "Dashboard - Task Drawer PR/Commit í•„ë“œ ì¶”ê°€ (React)"
created: 2026-01-10
updated: 2026-01-10
status: done
closed: 2026-01-10

# === ê³„ì¸µ ===
parent_id: "prj-023"
project_id: "prj-023"
aliases: ["tsk-023-1767974842230", "Dashboard - Task Drawer PR/Commit í•„ë“œ ì¶”ê°€ (React)"]

# === ê´€ê³„ ===
outgoing_relations: []
validates: []
validated_by: []

# === Task ì „ìš© ===
assignee: "ê¹€ì€í–¥"
start_date: 2026-01-10
due: 2026-01-10
priority: high
estimated_hours: null
actual_hours: null

# === Task ìœ í˜• (dev Task ì—°ë™ìš©) ===
type: dev
target_project: loop

# === ë¶„ë¥˜ ===
tags: ["dashboard", "react", "typescript", "task-drawer", "pr-url", "commit"]
priority_flag: high
---

# Dashboard - Task Drawer PR/Commit í•„ë“œ ì¶”ê°€ (React)

> Task ID: `tsk-023-1767974842230` | Project: `prj-023` | Status: done

## ì„¤ëª…

React Dashboard(dashboard-v2)ì˜ TaskForm.tsxì— PR URL, Merged Commit í•„ë“œë¥¼ ì¶”ê°€í•œë‹¤.
ê¸°ì¡´ tsk-uegvfe-1767941662809 ì‘ì—…ì€ êµ¬ Dashboardì—ë§Œ ì ìš©ë˜ì–´ ìˆì–´ ìƒˆ React Dashboardì— ë™ì¼ ê¸°ëŠ¥ êµ¬í˜„ í•„ìš”.

## Tech Spec

### ë¬¸ì œ ìš”ì•½

- **ì¦ìƒ**: Dashboard Task Drawerì—ì„œ PR URL, Merged Commit í•„ë“œê°€ ë³´ì´ì§€ ì•ŠìŒ
- **ì›ì¸**: ê¸°ì¡´ ì‘ì—… `tsk-uegvfe-1767941662809`ëŠ” êµ¬ Dashboard(`_dashboard/`)ì—ë§Œ ì ìš©ë¨
- **í˜„ì¬ ìƒíƒœ**: React Dashboard(`dashboard-v2/`)ì—ëŠ” í•´ë‹¹ í•„ë“œê°€ ì „í˜€ êµ¬í˜„ë˜ì–´ ìˆì§€ ì•ŠìŒ

### ìˆ˜ì • ëŒ€ìƒ íŒŒì¼

| íŒŒì¼ | ìˆ˜ì • ë‚´ìš© |
|------|----------|
| `dashboard-v2/src/types/task.ts` | Task ì¸í„°í˜ì´ìŠ¤ì— `pr_url`, `merged_commit` í•„ë“œ ì¶”ê°€ |
| `dashboard-v2/src/features/tasks/components/TaskForm.tsx` | Edit/View ëª¨ë“œì— PR URL, Commit í•„ë“œ UI ì¶”ê°€ |

### êµ¬í˜„ ê³„íš

#### 1. Task íƒ€ì… ìˆ˜ì • (`dashboard-v2/src/types/task.ts`)

**Task ì¸í„°í˜ì´ìŠ¤ì— ì¶”ê°€** (line ~22):
```typescript
pr_url?: string | null;
merged_commit?: string | null;
```

**TaskUpdatePayloadì— ì¶”ê°€** (line ~38):
```typescript
pr_url?: string | null;
merged_commit?: string | null;
```

#### 2. TaskForm.tsx UI ìˆ˜ì •

**ìœ„ì¹˜**: Links ì„¹ì…˜ ì•„ë˜ (line ~802), Notes ì„¹ì…˜ ìœ„

**UI êµ¬ì¡°**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PR URL     [https://github...] (í´ë¦­ ì‹œ ìƒˆ íƒ­)
â”‚ Commit     abc1234 [ğŸ“‹ Copy]
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**êµ¬í˜„ ìƒì„¸**:
- **Edit ëª¨ë“œ**: input í•„ë“œ (type="url" for PR, type="text" for commit)
- **View ëª¨ë“œ**:
  - PR URL: í´ë¦­ ê°€ëŠ¥í•œ ë§í¬ (`target="_blank" rel="noopener noreferrer"`)
  - Commit: 7ì í‘œì‹œ + ë³µì‚¬ ë²„íŠ¼
- **ì¡°ê±´ë¶€ í‘œì‹œ**: ë‘ í•„ë“œ ì¤‘ í•˜ë‚˜ë¼ë„ ê°’ì´ ìˆì„ ë•Œë§Œ ì„¹ì…˜ í‘œì‹œ
- **ë³´ì•ˆ**: URL ê²€ì¦, XSS ë°©ì§€ (Reactì˜ ê¸°ë³¸ escaping í™œìš©)

#### 3. ì½”ë“œ êµ¬í˜„

```tsx
{/* GitHub Integration - PR URL & Commit */}
{(getFieldValue('pr_url') || getFieldValue('merged_commit') || !isReadOnly) && (
  <>
    <label className="text-zinc-500 py-1">PR URL</label>
    {isReadOnly ? (
      getFieldValue('pr_url') ? (
        <a
          href={getFieldValue('pr_url') as string}
          target="_blank"
          rel="noopener noreferrer"
          className="text-blue-600 hover:underline text-xs truncate"
        >
          {getFieldValue('pr_url') as string}
        </a>
      ) : <span className="text-zinc-400 text-xs">-</span>
    ) : (
      <input
        type="url"
        className="border border-zinc-200 px-2 py-0.5 rounded bg-white text-zinc-700 text-xs w-full focus:border-zinc-400 focus:ring-1 focus:ring-zinc-200 outline-none shadow-sm"
        placeholder="https://github.com/..."
        value={(getFieldValue('pr_url') as string) || ''}
        onChange={(e) => handleFieldChangeInternal('pr_url', e.target.value || null)}
      />
    )}

    <label className="text-zinc-500 py-1">Commit</label>
    {isReadOnly ? (
      getFieldValue('merged_commit') ? (
        <div className="flex items-center gap-2">
          <code className="text-xs bg-zinc-100 px-1.5 py-0.5 rounded">
            {(getFieldValue('merged_commit') as string).substring(0, 7)}
          </code>
          <button
            onClick={() => navigator.clipboard.writeText(getFieldValue('merged_commit') as string)}
            className="text-zinc-400 hover:text-zinc-600"
            title="Copy full SHA"
          >
            ğŸ“‹
          </button>
        </div>
      ) : <span className="text-zinc-400 text-xs">-</span>
    ) : (
      <input
        type="text"
        className="border border-zinc-200 px-2 py-0.5 rounded bg-white text-zinc-700 text-xs w-full focus:border-zinc-400 focus:ring-1 focus:ring-zinc-200 outline-none shadow-sm"
        placeholder="e.g., abc1234..."
        value={(getFieldValue('merged_commit') as string) || ''}
        onChange={(e) => handleFieldChangeInternal('merged_commit', e.target.value || null)}
      />
    )}
  </>
)}
```

### ê²€ì¦ ë°©ë²•

1. **ë¹Œë“œ í™•ì¸**
   ```bash
   cd public/dashboard-v2 && npm run build
   ```

2. **UI í…ŒìŠ¤íŠ¸**
   - Dashboardì—ì„œ `tsk-19203a-1767940029834` Task ì—´ê¸° (pr_url, merged_commit ê°’ ìˆìŒ)
   - PR URL, Commit í•„ë“œê°€ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸
   - Edit ëª¨ë“œì—ì„œ ê°’ ìˆ˜ì • ê°€ëŠ¥í•œì§€ í™•ì¸
   - View ëª¨ë“œì—ì„œ PR URL í´ë¦­ ì‹œ ìƒˆ íƒ­ ì—´ë¦¬ëŠ”ì§€ í™•ì¸
   - Copy ë²„íŠ¼ ë™ì‘ í™•ì¸

3. **API ì—°ë™ í™•ì¸**
   - ê°’ ìˆ˜ì • í›„ ì €ì¥ë˜ëŠ”ì§€ í™•ì¸
   - í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ í›„ ê°’ ìœ ì§€ë˜ëŠ”ì§€ í™•ì¸

### ì°¸ê³ 

- API (`api/models/entities.py`, `api/routers/tasks.py`)ëŠ” ì´ë¯¸ pr_url, merged_commit ì§€ì› (êµ¬ Dashboard ì‘ì—… ì‹œ ì™„ë£Œ)
- React DashboardëŠ” APIì—ì„œ ë°›ì€ ë°ì´í„°ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë¯€ë¡œ ì¶”ê°€ API ìˆ˜ì • ë¶ˆí•„ìš”

---

## ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] Task íƒ€ì…ì— pr_url, merged_commit í•„ë“œ ì¶”ê°€ (types/task.ts)
- [x] TaskForm.tsxì— PR URL input í•„ë“œ ì¶”ê°€
- [x] TaskForm.tsxì— Merged Commit input í•„ë“œ ì¶”ê°€
- [x] View ëª¨ë“œì—ì„œ ê°’ í‘œì‹œ (ë§í¬, ë³µì‚¬ ë²„íŠ¼)
- [x] ë¹Œë“œ í™•ì¸ (npm run build)
- [x] UI í…ŒìŠ¤íŠ¸ (tsk-19203a-1767940029834ì—ì„œ í™•ì¸)

---

## ì‘ì—… ë¡œê·¸

### 2026-01-10
**ê°œìš”**: Task ì™„ë£Œ - React Dashboardì— PR/Commit í•„ë“œ ì¶”ê°€ ì™„ë£Œ

**ì‘ì—… ë‚´ìš©**:
- `dashboard-v2/src/types/task.ts`: Task ì¸í„°í˜ì´ìŠ¤ì— `pr_url`, `merged_commit` í•„ë“œ ì¶”ê°€
- `dashboard-v2/src/features/tasks/components/TaskForm.tsx`: PR URL, Commit í•„ë“œ UI êµ¬í˜„
  - Edit ëª¨ë“œ: URL/í…ìŠ¤íŠ¸ ì…ë ¥ í•„ë“œ
  - View ëª¨ë“œ: í´ë¦­ ê°€ëŠ¥í•œ ë§í¬ + ë³µì‚¬ ë²„íŠ¼
- ë¹Œë“œ ë° UI í…ŒìŠ¤íŠ¸ ì™„ë£Œ

**ê²°ê³¼**:
- React Dashboardì—ì„œ PR URL, Merged Commit í•„ë“œ ì •ìƒ í‘œì‹œ
- ê¸°ì¡´ êµ¬ Dashboardì™€ ë™ì¼í•œ ê¸°ëŠ¥ êµ¬í˜„ ì™„ë£Œ

**ìµœì¢… ìƒíƒœ**: done

---

## ì°¸ê³  ë¬¸ì„œ

- [[prj-023]] - ì†Œì† Project (Dashboard - React+TS ë§ˆì´ê·¸ë ˆì´ì…˜)
- Plan íŒŒì¼: `/Users/gim-eunhyang/.claude/plans/valiant-mapping-russell.md`
- ê´€ë ¨ Task: `tsk-uegvfe-1767941662809` (êµ¬ Dashboard ì‘ì—…)

---

**Created**: 2026-01-10
**Assignee**: ê¹€ì€í–¥
**Priority**: high
