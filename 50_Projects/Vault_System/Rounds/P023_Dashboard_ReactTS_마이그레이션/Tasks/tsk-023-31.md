---
entity_type: Task
entity_id: "tsk-023-31"
entity_name: "EntityDrawer - 뒤로가기 네비게이션 스택 구현"
created: 2026-01-09
updated: 2026-01-09
status: todo

# === 계층 ===
parent_id: "prj-023"
project_id: "prj-023"
aliases: ["tsk-023-31"]

# === 관계 ===
outgoing_relations: []
validates: []
validated_by: []

# === Task 전용 ===
assignee: "김은향"
start_date: 2026-01-09
due: 2026-01-09
priority: medium
estimated_hours: null
actual_hours: null

# === Task 유형 (dev Task 연동용) ===
type: dev
target_project: loop

# === 분류 ===
tags: ["dashboard", "ux", "navigation"]
priority_flag: medium
---

# EntityDrawer - 뒤로가기 네비게이션 스택 구현

> Task ID: `tsk-023-31` | Project: `prj-023` | Status: todo

## 목표

**완료 조건**:
1. EntityDrawer 내부에서 entity 클릭 시 스택에 push
2. 뒤로가기 버튼 클릭 시 이전 entity로 복귀
3. 히스토리가 있을 때만 뒤로가기 버튼 표시

---

## 상세 내용

### 배경

현재 EntityDrawer에서 관련 entity(Project, Track 등)를 클릭하면 기존 drawer가 교체되며 이전 컨텍스트가 사라집니다. 사용자가 Task → Project → Track으로 이동 후 다시 Task로 돌아오려면 drawer를 닫고 다시 열어야 하는 불편함이 있습니다.

### 작업 내용

1. **UiContext 수정**: `drawerStack` 상태 추가
2. **Navigation 함수**: `pushDrawer`, `popDrawer`, `canGoBack` 구현
3. **DrawerShell 수정**: 뒤로가기 버튼 추가
4. **기존 코드 연동**: `openEntityDrawer` → `pushDrawer` 전환

---

## 체크리스트

- [ ] UiContext에 drawerStack 상태 추가
- [ ] pushDrawer, popDrawer 함수 구현
- [ ] canGoBack 계산 로직 추가
- [ ] DrawerShell에 뒤로가기 버튼 UI 추가
- [ ] TaskForm 등에서 entity 클릭 시 pushDrawer 사용
- [ ] 테스트: Task → Project → Track → 뒤로가기 × 2 → Task

---

## Notes

### Tech Spec

(PRD 생성 후 작성 예정)

### Todo
- [ ]
- [ ]
- [ ]

### 작업 로그
<!--
작업 완료 시 아래 형식으로 기록 (workthrough 스킬 자동 생성)

#### YYYY-MM-DD HH:MM
**개요**: 2-3문장 요약

**변경사항**:
- 개발:
- 수정:
- 개선:

**핵심 코드**: (필요시)

**결과**: ✅ 빌드 성공 / ❌ 실패

**다음 단계**:
-->


---

## 참고 문서

- [[prj-023]] - 소속 Project
- `dashboard-v2/src/contexts/UiContext.tsx` - 현재 drawer 상태 관리
- `dashboard-v2/src/components/layout/EntityDrawer.tsx` - Drawer 컴포넌트
- `dashboard-v2/src/components/common/DrawerShell.tsx` - Drawer 공통 레이아웃

---

**Created**: 2026-01-09
**Assignee**: 김은향
**Due**: 2026-01-09
