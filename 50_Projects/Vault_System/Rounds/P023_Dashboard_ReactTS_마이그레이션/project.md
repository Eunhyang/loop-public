---
entity_type: Project
entity_id: prj-023
entity_name: Dashboard - React+TS ë§ˆì´ê·¸ë ˆì´ì…˜
created: 2026-01-07
updated: '2026-01-09'
status: doing
parent_id: trk-2
program_id: pgm-vault-system
aliases:
- prj-023
- Dashboard - React+TS ë§ˆì´ê·¸ë ˆì´ì…˜
outgoing_relations: []
validates: []
validated_by: []
primary_hypothesis_id: null
owner: ê¹€ì€í–¥
budget: null
deadline: null
hypothesis_text: ë°”ë‹ë¼ JS ëŒ€ì‹œë³´ë“œë¥¼ React+TSë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ë©´ í˜ì´ì§€ ê²½ê³„ ë¶„ë¦¬ë¡œ ìš´ì˜ ë³µì¡ë„ê°€ ê°ì†Œí•˜ê³ , state.js
  ê¸‰íŒ½ì°½ ì—†ì´ ê¸°ëŠ¥ ì¶”ê°€ ì†ë„ê°€ í–¥ìƒë  ê²ƒì´ë‹¤
experiments: []
tasks:
- tsk-022-20
- tsk-022-23
- tsk-022-25
- tsk-022-26
- tsk-023-01
- tsk-023-02
- tsk-023-03
- tsk-023-04
- tsk-023-05
- tsk-023-06
- tsk-023-07
- tsk-023-08
- tsk-023-09
- tsk-023-10
- tsk-023-11
- tsk-023-12
- tsk-023-13
- tsk-023-14
- tsk-023-15
- tsk-023-16
- tsk-023-17
- tsk-023-18
- tsk-023-19
- tsk-023-20
- tsk-023-21
- tsk-023-22
- tsk-023-23
- tsk-023-24
- tsk-023-25
- tsk-023-26
- tsk-023-27
- tsk-023-28
- tsk-023-29
- tsk-023-30
- tsk-023-31
- tsk-023-32
- tsk-023-33
- tsk-023-34
- tsk-023-35
- tsk-023-36
- tsk-023-38
- tsk-023-39
- tsk-023-40
- tsk-023-41
- tsk-uegvfe-1767941662809
- tsk-023-42
- tsk-023-43
tier: null
impact_magnitude: null
confidence: null
condition_contributes:
- to: cond-e
  weight: 0.8
  description: ìš´ì˜ íš¨ìœ¨í™” - ëŒ€ì‹œë³´ë“œ ì´ˆê¸° ë¡œë”© 2ì´ˆ ì´ë‚´, SSOT ë“œë¦¬í”„íŠ¸ ì œë¡œ, ê¸°ëŠ¥ ì¶”ê°€ ì†ë„ í–¥ìƒ
track_contributes: []
expected_impact:
  statement: React+TS ë§ˆì´ê·¸ë ˆì´ì…˜ìœ¼ë¡œ ëŒ€ì‹œë³´ë“œê°€ ê²°ì •-ì¦ê±°-ìŠ¹ì¸-í•™ìŠµ ë£¨í”„ë¥¼ ì‹¤ì œë¡œ êµ´ë¦¬ëŠ” OSê°€ ëœë‹¤
  metric: ì´ˆê¸° ë¡œë”© ì‹œê°„, SSOT ë“œë¦¬í”„íŠ¸ ìˆ˜, Pending review ì²˜ë¦¬ ì‹œê°„, ê¸°ëŠ¥ ì¶”ê°€ ì†Œìš” ì‹œê°„
  target: ë¡œë”© <2ì´ˆ, ë“œë¦¬í”„íŠ¸ 0ê±´, ë¦¬ë·° <1ë¶„, ê¸°ëŠ¥ ì¶”ê°€ ì‹œ state.js ê¸‰íŒ½ì°½ ì—†ìŒ
realized_impact:
  verdict: null
  outcome: null
  evidence_links: []
  decided: null
  window_id: null
  time_range: null
  metrics_snapshot: {}
conditions_3y:
- cond-e
tags:
- project
- vault-system
- dashboard
- react
- typescript
- migration
priority_flag: high
---
# Dashboard - React+TS ë§ˆì´ê·¸ë ˆì´ì…˜

> Project ID: `prj-023` | Program: \[\[pgm-vault-system\]\] | Track: \[\[trk-2\]\] | Status: doing

---

## ğŸ¯ North Star

**"ë‚´ë¶€ ìš´ì˜ ëŒ€ì‹œë³´ë“œê°€ 'ê²°ì •â€“ì¦ê±°â€“ìŠ¹ì¸â€“í•™ìŠµ' ë£¨í”„ë¥¼ ì‹¤ì œë¡œ êµ´ë¦¬ëŠ” OS"**

### 90ì¼ ì„±ê³µ ê¸°ì¤€ (ì¸¡ì • ê°€ëŠ¥)

- âœ… ëŒ€ì‹œë³´ë“œ ì´ˆê¸° ë¡œë“œ: &lt; 2ì´ˆ (ìºì‹œ warm ê¸°ì¤€)
- âœ… SSOT ë“œë¦¬í”„íŠ¸ ì œë¡œ: ê°™ì€ ì—”í‹°í‹°ê°€ ë‹¤ë¥¸ ê·œì¹™/íŒŒì¼ëª… ê°€ì •ìœ¼ë¡œ ê¹¨ì§€ëŠ” ì¼€ì´ìŠ¤ 0
- âœ… ìŠ¹ì¸ ì›Œí¬í”Œë¡œ ì •ì°©: Pending review ì²˜ë¦¬ ì‹œê°„ 1ë¶„ ë‚´ (ë¦¬ë·°ì–´ ê´€ì )
- âœ… ê¸°ëŠ¥ ì¶”ê°€ ì†ë„: ìƒˆ ê¸°ëŠ¥ 1ê°œ ì¶”ê°€ ì‹œ "state.js ê¸‰íŒ½ì°½" ì—†ì´ ì§„í–‰

---

## Dashboard V2 Architecture & LLM Work Rules (SSOT + Clean Architecture)

> **ì ìš© ë²”ìœ„:** `loop/public/_dashboard/dashboard-v2/` í•˜ìœ„ ì½”ë“œë§Œ\
> \*\***ëª©í‘œ:** ê¸°ëŠ¥ì´ ì»¤ì ¸ë„(ìˆ˜ë°± í”„ë¡œì íŠ¸/ìˆ˜ì²œ íƒœìŠ¤í¬) êµ¬ì¡°ê°€ ë¬´ë„ˆì§€ì§€ ì•ŠëŠ” **í´ë¦° ì•„í‚¤í…ì²˜ + SSOT + Feature ê¸°ë°˜ ëª¨ë“ˆí™”**\
> \*\***ê°•ì œ:** ì´ ë¬¸ì„œëŠ” dashboard-v2ì˜ â€œë²•â€ì´ë©°, **LLM/Claude Code í¬í•¨ ëª¨ë“  ê¸°ì—¬ìëŠ” ì‘ì—… ì „ ë°˜ë“œì‹œ ì½ê³  ì¤€ìˆ˜**í•´ì•¼ í•©ë‹ˆë‹¤.

---

## 0) ì ˆëŒ€ ê·œì¹™ (Hard Rules)

### 0.1 ë ˆê±°ì‹œ ìˆ˜ì • ê¸ˆì§€

- `loop/public/_dashboard/`ì˜ ë ˆê±°ì‹œ(v1) íŒŒì¼ì€ **ì½ê¸° ì „ìš©**ì…ë‹ˆë‹¤.
- ê¸°ëŠ¥ ì¶”ê°€/ìˆ˜ì •ì€ ë°˜ë“œì‹œ `dashboard-v2`ì—ì„œë§Œ í•©ë‹ˆë‹¤.
- ë ˆê±°ì‹œì—ì„œ ê¸°ëŠ¥ì´ í•„ìš”í•˜ë©´ **v2ë¡œ í¬íŒ… í›„** v2 ê·œì¹™ì— ë§ì¶° êµ¬í˜„í•©ë‹ˆë‹¤.

### 0.2 ì˜ì¡´ì„± ë°©í–¥ ê³ ì • (Dependency Rule)

- `src/features/*` â†’ `src/components/common/*` import âœ…
- `src/components/common/*` â†’ `src/features/*` import âŒ (**ì ˆëŒ€ ê¸ˆì§€**)
- `src/pages/*`ëŠ” **ì¡°í•©(ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜**)ë§Œ ë‹´ë‹¹.
  - í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ ì•ˆì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§/axios í˜¸ì¶œ/ë³µì¡í•œ ê³„ì‚° ê¸ˆì§€

### 0.3 SSOT(ë‹¨ì¼ ì§„ì‹¤ì˜ ì›ì²œ) ê³ ì •

- **HTTP Client SSOT:** `src/services/http.ts`
- **DTO íƒ€ì… SSOT:** `src/types/*` (featureì—ì„œ DTO ì¬ì •ì˜ ê¸ˆì§€)
- **React Query Key SSOT:** `src/queries/keys.ts`
- **ëŒ€ì‹œë³´ë“œ init SSOT Hook:** `src/queries/useDashboardInit.ts`
- **Feature API SSOT:** `src/features/<feature>/api.ts`
- **Feature Query Hooks SSOT:** `src/features/<feature>/queries.ts` ë˜ëŠ” `src/features/<feature>/queries/*`

### 0.4 ë¹Œë“œ ê²Œì´íŠ¸(í•„ìˆ˜)

- ì‘ì—… í›„ ìµœì†Œ 1íšŒ: `npm run build` í†µê³¼ê°€ í•„ìˆ˜ì…ë‹ˆë‹¤.
- TypeScript ì—ëŸ¬/ë¹Œë“œ ì‹¤íŒ¨ ìƒíƒœë¡œ ì‘ì—…ì„ ëë‚´ë©´ ì•ˆ ë©ë‹ˆë‹¤.

### 0.5 dist/node_modules ê´€ë¦¬

- `dashboard-v2/dist` ë° `dashboard-v2/node_modules`ëŠ” **ì»¤ë°‹/ë¦¬ë·° ëŒ€ìƒì´ ì•„ë‹™ë‹ˆë‹¤**.
- ì½”ë“œ ë³€ê²½ì€ `src/` ì¤‘ì‹¬ìœ¼ë¡œë§Œ.

---

## 1) í˜„ì¬(ê¸°ì¤€) í´ë” êµ¬ì¡°ì™€ ì±…ì„

> dashboard-v2ëŠ” **ê¸°ìˆ  ê¸°ì¤€(components/hooks/api**)ê°€ ì•„ë‹ˆë¼ **ë„ë©”ì¸/ê¸°ëŠ¥ ê¸°ì¤€(feature**)ìœ¼ë¡œ êµ¬ì¡°í™”í•©ë‹ˆë‹¤.\
> â€œë§ŒëŠ¥ íŒŒì¼â€, â€œë§ŒëŠ¥ í´ë”â€ë¥¼ ë§Œë“¤ì§€ ì•ŠìŠµë‹ˆë‹¤.

### 1.1 `src/services/http.ts` (HTTP ë ˆì´ì–´ SSOT)

**ë‹´ë‹¹ âœ…**

- Axios ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
- Auth í—¤ë”/í† í° ì£¼ì…
- ê³µí†µ ì—ëŸ¬ ì²˜ë¦¬(401/403/5xx ë“±)

**ë‹´ë‹¹ âŒ**

- ë„ë©”ì¸ ì—”ë“œí¬ì¸íŠ¸ í•¨ìˆ˜ ì •ì˜ ê¸ˆì§€(ì˜ˆ: createProject, getTasks ë“±)

---

### 1.2 `src/types/*` (ì„œë²„ DTO SSOT)

**ë‹´ë‹¹ âœ…**

- ì„œë²„ì—ì„œ ì˜¤ëŠ” ë°ì´í„° êµ¬ì¡°(ì˜ˆ: Task, Project, PendingReview ë“±)
- DTO ì¸í„°í˜ì´ìŠ¤/íƒ€ì…ì€ ì—¬ê¸°ì„œë§Œ â€œê¶Œìœ„ ìˆê²Œâ€ ì •ì˜í•©ë‹ˆë‹¤.

**ë‹´ë‹¹ âŒ**

- feature ë‚´ë¶€ì—ì„œ DTOë¥¼ ë³µì œí•˜ê±°ë‚˜ â€œë‹¤ë¥¸ ë²„ì „â€ì„ ë§Œë“¤ì§€ ì•ŠìŠµë‹ˆë‹¤.
- íŒŒìƒ íƒ€ì…ì´ í•„ìš”í•˜ë©´ feature ë‚´ë¶€ì—ì„œ â€œUI ì „ìš© derived íƒ€ì…â€ë§Œ í—ˆìš©í•©ë‹ˆë‹¤.

---

### 1.3 `src/queries/keys.ts` (Query Key SSOT)

**ë‹´ë‹¹ âœ…**

- queryKeyëŠ” ì—¬ê¸°ì„œë§Œ ì •ì˜í•©ë‹ˆë‹¤.
- invalidate/refetch/patchëŠ” ë°˜ë“œì‹œ ì—¬ê¸°ì„œ importí•œ keyë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

**ë‹´ë‹¹ âŒ**

- ì„ì˜ ë¬¸ìì—´ë¡œ `invalidateQueries(['dashboard'])` ê°™ì€ í˜¸ì¶œ ê¸ˆì§€\
  (í‚¤ê°€ ë‹¬ë¼ì§€ë©´ invalidateê°€ ë¬´íš¨ê°€ ë˜ì–´ ë²„ê·¸ê°€ ìƒê¹ë‹ˆë‹¤)

---

### 1.4 `src/queries/useDashboardInit.ts` (Dashboard Init SSOT)

**ë‹´ë‹¹ âœ…**

- `/api/dashboard-init`ì„ í†µí•œ ì´ˆê¸° ë°ì´í„° ë¡œë“œ
- dashboardInit ë°ì´í„°ëŠ” ëŒ€ì‹œë³´ë“œ ì „ì—­ì— ì“°ì´ëŠ” SSOT ë°ì´í„°ë¡œ ì·¨ê¸‰í•©ë‹ˆë‹¤.

---

### 1.5 `src/features/<feature>/` (Feature ëª¨ë“ˆ: ë¡œì»¬ ì™„ê²°ì„±)

ê° featureëŠ” â€œê¸°ëŠ¥ ë‹¨ìœ„ë¡œ ë¡œì»¬ ì™„ê²°ì„±â€ì„ ê°€ì ¸ì•¼ í•©ë‹ˆë‹¤.

**ê¶Œì¥ êµ¬ì„±**

- `api.ts` : í•´ë‹¹ featureì˜ endpoint wrapper
- `queries.ts` ë˜ëŠ” `queries/*` : react-query hooks / optimistic patch / invalidate ê·œì¹™
- `selectors.ts` : ìˆœìˆ˜ í•¨ìˆ˜(í•„í„°ë§/ì •ê·œí™”/ê·¸ë£¹í•‘). React/Query import ê¸ˆì§€
- `components/*` : ë„ë©”ì¸ UI(íŒ¨ë„/ë¦¬ìŠ¤íŠ¸/ì¹´ë“œ ë“±)
- `utils/*` : ë„ë©”ì¸ ìœ í‹¸(ìˆœìˆ˜ í•¨ìˆ˜)

---

### 1.6 `src/components/common/*` (ì§„ì§œ ê³µìš© UIë§Œ)

**ë‹´ë‹¹ âœ…**

- ì§„ì§œ ë²”ìš© UI(ì˜ˆ: DrawerShell)
- â€œíŠ¹ì • ë„ë©”ì¸ ê·œì¹™ì´ ì—†ëŠ”â€ ìˆœìˆ˜ UI

**ë‹´ë‹¹ âŒ**

- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§/ë„ë©”ì¸ ê·œì¹™/ì¿¼ë¦¬ í›…/axios í˜¸ì¶œ
- feature ë‚´ë¶€ íŒŒì¼ import ê¸ˆì§€

---

### 1.7 `src/pages/*` (ë¼ìš°íŠ¸ ì¡°í•© ë ˆì´ì–´)

**ë‹´ë‹¹ âœ…**

- ë¼ìš°íŠ¸ ë‹¨ìœ„ ë ˆì´ì•„ì›ƒ/ì¡°í•©
- feature componentë¥¼ ë°°ì¹˜í•˜ê³  propsë¥¼ ì „ë‹¬

**ë‹´ë‹¹ âŒ**

- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
- axios í˜¸ì¶œ
- ë³µì¡í•œ ê³„ì‚°(ê·¸ë£¹í•‘/í•„í„°ë§/ì •ê·œí™”)
- â€œë§ŒëŠ¥ state.jsâ€ ê°™ì€ ì „ì—­ ìƒíƒœ íŒŒì¼ ìƒì„± ê¸ˆì§€

---

## 2) Drawer í‘œì¤€ (ìµœì¢… í•©ì˜ ì•„í‚¤í…ì²˜)

### 2.1 ì›ì¹™

- **ì›ì¹™ A: DrawerShell = ë ˆì´ì•„ì›ƒë§Œ**
  - overlay/backdrop/slide-in/close/slotsë§Œ ì œê³µ
  - Save ë¡œì§/validation/API í˜¸ì¶œ/í¼ ìƒíƒœ ê´€ë¦¬ âŒ
- **ì›ì¹™ B: Form = features ì†Œìœ **
  - í¼ì€ ê° ë„ë©”ì¸(feature)ì— ì¡´ì¬
  - commonì— formsë¥¼ ëª°ì•„ë„£ì§€ ì•ŠìŒ(ê³µìš© í´ë” ê´´ë¬¼ ë°©ì§€)
- **ì›ì¹™ C: EntityDrawer = 1ê°œ**
  - AppLayoutì—ì„œ ë‹¨ì¼ ì§„ì…ì ìœ¼ë¡œ ë Œë”
  - â€œë“œë¡œì–´ 2ê°œâ€ êµ¬ì¡°(ê²¹ì¹¨/ì¶©ëŒ) ê¸ˆì§€

---

### 2.2 íŒŒì¼ êµ¬ì¡°(ìµœì¢…)

- ê³µí†µ Shell:

  - `src/components/common/DrawerShell.tsx`

- ë‹¨ì¼ ì§„ì… EntityDrawer:

  - `src/components/layout/EntityDrawer.tsx`\
    (ê¸°ì¡´ `CreationDrawer.tsx`ë¥¼ ëŒ€ì²´/í¡ìˆ˜)

- UI ìƒíƒœ:

  - `src/contexts/UiContext.tsx`\
    (activeEntityDrawer ìƒíƒœ + open/close ì•¡ì…˜)

- í¼(feature ì†Œìœ ):

  - `src/features/tasks/components/TaskForm.tsx`
  - `src/features/projects/components/ProjectForm.tsx`
  - `src/features/programs/components/ProgramForm.tsx`
  - `src/features/strategy/components/TrackForm.tsx`
  - `src/features/strategy/components/ConditionForm.tsx`
  - `src/features/strategy/components/HypothesisForm.tsx`

> ì°¸ê³ : `TaskDrawer`ëŠ” ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\
> ë‹¤ë§Œ EntityDrawerì—ì„œ task íƒ€ì…ì¼ ë•Œ TaskDrawerë¥¼ ë Œë”(ì¡°í•©)í•˜ê±°ë‚˜, TaskFormì„ ì§ì ‘ ë Œë”í•˜ëŠ” ë°©ì‹ ì¤‘ í•˜ë‚˜ë¡œ ë‹¨ì¼í™”í•´ì•¼ í•©ë‹ˆë‹¤.

---

### 2.3 UiContext íƒ€ì…(ìµœì¢… ê¶Œì¥)

> **ì¤‘ìš”:** edit ëª¨ë“œì—ì„œ payload ì „ì²´ë¥¼ ì €ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤(ë‚¡ì€ ë°ì´í„° ë¬¸ì œ).\
> editì€ **idë§Œ ì €ì¥**í•˜ê³ , ì‹¤ì œ ë°ì´í„°ëŠ” ê° í¼ ë‚´ë¶€ query hookìœ¼ë¡œ fetch í•©ë‹ˆë‹¤.

```ts
type EntityType = 'task' | 'project' | 'program' | 'track' | 'hypothesis' | 'condition';

type PrefillMap = {
  task: Partial<any>;
  project: Partial<any>;
  program: Partial<any>;
  track: Partial<any>;
  hypothesis: Partial<any>;
  condition: Partial<any>;
};

type ActiveEntityDrawer =
  | null
  | { type: EntityType; mode: 'create'; prefill?: PrefillMap[EntityType] }
  | { type: EntityType; mode: 'edit'; id: string };
```

---

### **2.4 DrawerShell ì±…ì„ (ëª…í™•íˆ)**

**ë‹´ë‹¹ âœ…**

- backdrop + í´ë¦­ ì‹œ ë‹«ê¸°

- slide-in ì• ë‹ˆë©”ì´ì…˜

- close ë²„íŠ¼

- header slot(title)

- body slot(children)

- footer slot(optional)

**ë‹´ë‹¹ âŒ**

- Save ë²„íŠ¼ ë¡œì§

- validation

- API í˜¸ì¶œ

- form state ê´€ë¦¬

---

## **3) í•„í„° SSOT ê·œì¹™ (Kanban ê¸°ì¤€, í™•ì¥ ê°€ëŠ¥)**

### **3.1 í•„í„° ìƒíƒœ ì €ì¥ ìœ„ì¹˜**

**URL = ê³µìœ  ê°€ëŠ¥í•œ Navigation ìƒíƒœ(SSOT)**

- assignees\[\]

- projectId (ë‹¨ì¼)

- programId (ë‹¨ì¼, í•„ìš” ì‹œ)

- trackId / conditionId / hypothesisId

- dateMode(W/M), selectedWeeks\[\], selectedMonths\[\]

**localStorage = ê°œì¸ View Preference**

- showInactiveMembers, showNonCoreMembers

- showInactiveProjects, showInactiveTasks

- taskStatus\[\], taskPriority\[\], taskTypes\[\]

- projectStatus\[\], projectPriority\[\]

- React ContextëŠ” ê°€ëŠ¥í•˜ë©´ ìµœì†Œí™”í•˜ë©°, í•„ìš” ì‹œì—ë„ â€œlocalStorage SSOTë¥¼ UIì—ì„œ í¸í•˜ê²Œ ì“°ê¸° ìœ„í•œ ìºì‹œâ€ë¡œë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

---

### **3.2 í•„í„° íŒŒì´í”„ë¼ì¸(ê°•ì œ)**

selectorsëŠ” ë°˜ë“œì‹œ ë‹¤ìŒ pipeline í˜•íƒœë¥¼ ë”°ë¦…ë‹ˆë‹¤.

1. **Project-level filtering** â†’ allowedProjectIds(Set)

2. **Task-level filtering**

3. **Member visibility filtering**

> Track/Condition/HypothesisëŠ” Project ë ˆë²¨ì˜ ì†ì„±(parent_id, conditions_3y, validates ë“±)ìœ¼ë¡œ ì—°ê²°ë˜ë¯€ë¡œ

> Task-levelì—ì„œ ì§ì ‘ ì²˜ë¦¬í•˜ì§€ ë§ê³  Project-levelì—ì„œ allowedProjectsë¥¼ ë§Œë“  ë’¤ Taskë¥¼ í•„í„°ë§í•©ë‹ˆë‹¤.

---

### **3.3 ìƒìœ„ ì—”í‹°í‹° ì¡°í•© í•„í„°(AND) ê·œì¹™**

- Track + Condition + Hypothesis ì¡°í•©ì€ **AND ëˆ„ì **ìœ¼ë¡œ ë™ì‘í•´ì•¼ í•©ë‹ˆë‹¤.

- í”„ë¡œì íŠ¸ ì¡°íšŒëŠ” Map(projectId â†’ project)ë¡œ O(1) ì ‘ê·¼í•´ì•¼ í•©ë‹ˆë‹¤.

- ì˜µì…˜ í•„ë“œëŠ” ?. + ?? falseë¡œ ì•ˆì „ ì²˜ë¦¬í•©ë‹ˆë‹¤.

- projectê°€ ì—†ëŠ” task(ë¶ˆì¼ì¹˜)ëŠ” ìƒìœ„ í•„í„° í™œì„±í™” ì‹œ ì œì™¸(false) ì²˜ë¦¬í•©ë‹ˆë‹¤.

---

## **4) Feature êµ¬í˜„ ê·œì¹™ (Pending / Calendar ë“±)**

### **4.1 Feature ì¶”ê°€ íŒ¨í„´(ê°•ì œ)**

ìƒˆ ê¸°ëŠ¥ì€ ë°˜ë“œì‹œ src/features/&lt;feature&gt;/ ì•„ë˜ì— ì¶”ê°€í•©ë‹ˆë‹¤.

src/features/pending/

- api.ts / types.ts / queries/\* / components/\*

- src/pages/Pending/index.tsxëŠ” 3-pane ë ˆì´ì•„ì›ƒ ì¡°í•©ë§Œ

src/features/calendar/

- google plugin ì‚¬ìš© ê¸ˆì§€

- /api/google/\* ê¸°ë°˜ custom event source ì‚¬ìš©

- rangeëŠ” YYYY-MM-DD normalize í•„ìˆ˜

- legacy parity: eventOrder, viewë³„ dayMaxEvents ì •ì±… ì¤€ìˆ˜

---

### **4.2 Pending Review MVP ê¶Œì¥ ê·œì¹™(ìš”ì•½)**

- 3-pane layout: list / detail / entity preview

- rejectëŠ” reason í•„ìˆ˜(ëª¨ë‹¬/ë‹¤ì´ì–¼ë¡œê·¸ ì»´í¬ë„ŒíŠ¸ í¬í•¨)

- entity preview 5ì¢…: Condition/Track/HypothesisëŠ” init ë°ì´í„° lookup, Project/TaskëŠ” API fetch ê¶Œì¥

- 3-pane ìŠ¤í¬ë¡¤ì€ min-h-0 + overflow-y-auto ì²´ì¸ì„ ëª…í™•íˆ ì ìš©

---

## **5) RBAC(ê¶Œí•œ) ì›ì¹™**

- â€œProgramì´ admin-onlyâ€ ê°™ì€ UI ë‹¨ìœ„ ê·œì¹™ì€ ê³ ì •í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

- ì‹¤ì œë¡œ ë³´í˜¸í•´ì•¼ í•˜ëŠ” ê²ƒì€ **exec ì¶œì²˜ ë°ì´í„°(exec API/vault)** ì…ë‹ˆë‹¤.

- í”„ë¡ íŠ¸ëŠ” ë²„íŠ¼/ë©”ë‰´ë¥¼ role/scopeë¡œ ì œì–´í•  ìˆ˜ ìˆìœ¼ë‚˜, **ë³´ì•ˆì€ ì„œë²„(403)ì—ì„œ ìµœì¢… ê°•ì œ**ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

---

## **6) LLM/Claude Code ì‘ì—… ì „/í›„ ì²´í¬ë¦¬ìŠ¤íŠ¸ (ë³µë¶™ìš©)**

### **âœ… Pre-flight (ì‘ì—… ì „ í•„ìˆ˜)**

- ë³€ê²½ ëŒ€ìƒì´ dashboard-v2 ë‚´ë¶€ì¸ê°€? (ë ˆê±°ì‹œ ìˆ˜ì • ê¸ˆì§€)

- íŒŒì¼ ë°°ì¹˜ê°€ ì˜¬ë°”ë¥¸ í´ë” ì±…ì„ì— ë§ë‚˜?

- axios/fetchëŠ” feature api.ts ë˜ëŠ” services/http.tsë§Œ ì‚¬ìš©í•˜ëŠ”ê°€?

- DTO íƒ€ì…ì€ src/typesì—ì„œ import í–ˆëŠ”ê°€?

- queryKeyëŠ” src/queries/keys.tsì—ì„œ import í–ˆëŠ”ê°€?

- commonì´ featureë¥¼ importí•˜ì§€ ì•ŠëŠ”ê°€?

- selectorsëŠ” pure function ìœ ì§€(React/Query import ê¸ˆì§€)ì¸ê°€?

### **âœ… Post-flight (ì‘ì—… í›„ í•„ìˆ˜)**

- npm run build í†µê³¼

- dist/node_modules ë³€ê²½ ì—†ìŒ

- optimistic updateê°€ í•„ìš”í•œ ê³³ì€ queryKeys ê¸°ë°˜ patch/invalidateë¥¼ ì‚¬ìš©í–ˆëŠ”ê°€?

- UI/í•„í„°/ë“œë¡œì–´ ë™ì‘ì„ ìµœì†Œ 1íšŒ ìˆ˜ë™ ê²€ì¦í–ˆëŠ”ê°€?

---

## **7) ìš´ì˜ ì›ì¹™ (LLM í˜‘ì—… í’ˆì§ˆ)**

- ì œì•ˆì€ 1íšŒ, ë¶ˆí•„ìš”í•œ â€œìŠ¹ì¸ ìš”ì²­ ë°˜ë³µâ€ ê¸ˆì§€

  (ì„ íƒì§€ë¥¼ ì œì‹œí•˜ê³  ì§„í–‰ ê°€ëŠ¥í•œ í˜•íƒœë¡œ ì •ë¦¬)

- êµ¬ì¡° ë³€ê²½(ìƒˆ í´ë”/ìƒˆ SSOT ë„ì…)ì€ ì§§ê²Œë¼ë„ â€œì´ìœ â€ë¥¼ ë‚¨ê¸´ë‹¤.

- í° ë³€ê²½ì€ ì‘ì€ ì»¤ë°‹/ì‘ì€ PR ë‹¨ìœ„ë¡œ ìª¼ê° ë‹¤.

---

## **8) ê²°ë¡ **

dashboard-v2ëŠ” **í´ë¦° ì•„í‚¤í…ì²˜ + SSOT + feature ê¸°ë°˜ ëª¨ë“ˆí™”**ë¥¼ í•µì‹¬ ì›ì¹™ìœ¼ë¡œ í•©ë‹ˆë‹¤.

ëª¨ë“  ë³€ê²½ì€ ì´ ê²½ê³„ ì•ˆì—ì„œë§Œ ì´ë£¨ì–´ì ¸ì•¼ í•˜ë©°:

- UIëŠ” ì–‡ê²Œ

- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ selectors/service/query hooksë¡œ

- ìƒíƒœëŠ” ë‹¨ì¼ ì§„ì‹¤ ì›ì²œìœ¼ë¡œ

- ê³µí†µ(common)ì€ ì§„ì§œ ê³µìš© UIë§Œ

ì´ ê·œì¹™ì„ ì§€í‚¤ë©´ ê·œëª¨ê°€ ì»¤ì ¸ë„ êµ¬ì¡°ê°€ ë¬´ë„ˆì§€ì§€ ì•Šê³ , LLMì´ ì‘ì—…í•´ë„ ìŠ¤íŒŒê²Œí‹°ê°€ ìƒê¸°ì§€ ì•ŠìŠµë‹ˆë‹¤.

## ğŸ Project Rollup

> âš ï¸ **í”„ë¡œì íŠ¸ ì¢…ë£Œ ì‹œ í•„ìˆ˜ ì‘ì„±** (ì§„í–‰ ì¤‘ì—ëŠ” ë¹„ì›Œë‘ )

### Conclusion

1. 
2. 
3. 

### Evidence

| \# | Type | ê·¼ê±° ìš”ì•½ | ë§í¬ |
| --- | --- | --- | --- |
| 1 |  |  | \[\[\]\] |

### Metric Delta

| Metric | Before | After | Î” | íŒì • |
| --- | --- | --- | --- | --- |
| ì´ˆê¸° ë¡œë”© ì‹œê°„ | 62s (cold) | &lt;2s | \-97% | âœ… |
| SSOT ë“œë¦¬í”„íŠ¸ | ? | 0 | \- | âœ… |
| Pending ì²˜ë¦¬ ì‹œê°„ | ? | &lt;1min | \- | âœ… |

### Decision

- **Verdict**: `pending`
- **Next Action**:
- **Decided**:

---

## í”„ë¡œì íŠ¸ ê°€ì„¤

**"ë°”ë‹ë¼ JS ëŒ€ì‹œë³´ë“œë¥¼ React+TSë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ë©´ í˜ì´ì§€ ê²½ê³„ ë¶„ë¦¬ë¡œ ìš´ì˜ ë³µì¡ë„ê°€ ê°ì†Œí•˜ê³ , state.js ê¸‰íŒ½ì°½ ì—†ì´ ê¸°ëŠ¥ ì¶”ê°€ ì†ë„ê°€ í–¥ìƒë  ê²ƒì´ë‹¤"**

---

## í˜„ì¬ ë¬¸ì œì 

### í•µì‹¬ ë¬¸ì œ

í•œ í˜ì´ì§€ì— Kanban+Calendar+Graph+Pending+Adminì´ ëª¨ë‘ ì„ì—¬ì„œ **state.jsê°€ í­ë°œ**í•˜ê³  ìˆìŒ.

### í˜„ì¬ êµ¬ì¡°

```
_dashboard/
â”œâ”€â”€ index.html (47KB)
â”œâ”€â”€ css/ (13ê°œ)
â””â”€â”€ js/
    â”œâ”€â”€ state.js (35KB) â† í­ë°œ
    â”œâ”€â”€ api.js, app.js, auth.js
    â””â”€â”€ components/ (21ê°œ)
        â”œâ”€â”€ pending-panel.js (82KB) â† ë¹„ëŒ€í™”
        â”œâ”€â”€ task-panel.js (59KB)
        â”œâ”€â”€ project-panel.js (47KB)
        â””â”€â”€ calendar.js (40KB)
```

---

## IA (Information Architecture)

### í˜ì´ì§€ ê²½ê³„ë¡œ ë³µì¡ë„ ë¶„ë¦¬

```
/kanban           â†’ ìš´ì˜ ë©”ì¸ (íƒœìŠ¤í¬ ì¤‘ì‹¬)
/projects/:id     â†’ í”„ë¡œì íŠ¸ ì¤‘ì‹¬ (íƒœìŠ¤í¬/ì„íŒ©íŠ¸/ì¦ê±°)
/pending          â†’ Pending Review ì „ìš© (3-pane)
/graph            â†’ ê´€ê³„ íƒìƒ‰ (D3)
/calendar         â†’ ì¼ì • (FullCalendar)
/program          â†’ Program-Round (ê´€ë¦¬ì ì „ìš©)
/login            â†’ ì¸ì¦
```

ê° í™”ë©´ì€ **ìê¸° ëª©ì ë§Œ ì±…ì„**, ê³µí†µì€ Layoutë¡œ ë¶„ë¦¬.

---

## ê¸°ìˆ  ì„¤ê³„

### Frontend

- **React + TypeScript**
- **React Router** (í˜ì´ì§€ ê²½ê³„)
- **state.js ì œê±°**:
  - ì„œë²„ ìƒíƒœ â†’ **React Query** ìºì‹œ
  - UI ìƒíƒœ â†’ **URL query params + local state**
- **Code Splitting**: Calendar/GraphëŠ” ë¼ìš°íŠ¸ ì§„ì… ì‹œì—ë§Œ ë¡œë“œ

### Backend

- **FastAPI ìœ ì§€** (Django ì „í™˜ ë¶ˆí•„ìš”)
- ì´ìœ : UIê°€ ì•±ê¸‰ì´ê³ , ë°ì´í„°ê°€ íŒŒì¼/ìºì‹œ ê¸°ë°˜

### Data/SSOT

- SSOTëŠ” **ë¬¸ì„œ frontmatter** (ì² í•™ ìœ ì§€)
- **Read Model(ìºì‹œ) ë¶„ë¦¬**:
  - ë‹¨ê¸°: ì„œë²„ ë©”ëª¨ë¦¬ ìºì‹œ + ì¦ë¶„ ê°±ì‹ 
  - ì¤‘ê¸°: SQLite/Firestore ì˜ì† ìŠ¤ëƒ…ìƒ·

---

## API ì„¤ê³„ (í•„ìˆ˜)

### ì´ˆê¸° ë¡œë”© í†µí•©: `/api/dashboard-init`

**ë¬¸ì œ**: í˜„ì¬ `State.loadAll()`ì´ 12ê°œ API + pending ì¶”ê°€ í˜¸ì¶œ â†’ ëŠë¦¼

**í•´ê²°**: ë‹¨ì¼ ì—”ë“œí¬ì¸íŠ¸

```json
GET /api/dashboard-init
{
  "constants": {...},
  "members": [...],
  "tracks": [...],
  "conditions": [...],
  "projects": [...],
  "tasks": [...],
  "pending_badge_count": 5,
  "user": {...}
}
```

### ìƒì„¸ëŠ” on-demand

- `/api/projects/{id}` - í”„ë¡œì íŠ¸ ìƒì„¸
- `/api/tasks/{id}` - íƒœìŠ¤í¬ ìƒì„¸
- `/api/pending/{id}` - Pending ìƒì„¸/approve/reject
- `/api/graph` - ê·¸ë˜í”„ ë°ì´í„°
- `/api/calendar` - ìº˜ë¦°ë” ì§‘ê³„

---

## ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ (FR)

### FR-1. Kanban

- ë‹´ë‹¹ì íƒ­ (ë‹¤ì¤‘ ì„ íƒ)
- í”„ë¡œì íŠ¸ í•„í„°, Quick Date (W/M) í† ê¸€ (í˜„ì¬ UX ìœ ì§€)
- íƒœìŠ¤í¬ ì»¬ëŸ¼ (todo/doing/hold/done/blocked) ë Œë”
- ì¹´ë“œ í´ë¦­ â†’ Task Drawer ì˜¤í”ˆ
- (ì„ íƒ) Drag & dropìœ¼ë¡œ ìƒíƒœ ë³€ê²½

### FR-2. Task Drawer (íŒ¨ë„)

- í•„ë“œ í¸ì§‘: project/assignee/status/priority/type/due/notes/links
- ì²¨ë¶€íŒŒì¼ ì—…ë¡œë“œ/ëª©ë¡/í…ìŠ¤íŠ¸ ì¶”ì¶œ ë·° (ê¸°ì¡´ API í™œìš©)
- ë³€ê²½ ì¦‰ì‹œ ë°˜ì˜ (optimistic update), ì‹¤íŒ¨ ì‹œ ë¡¤ë°±

### FR-3. Project Detail

- í”„ë¡œì íŠ¸ ë©”íƒ€ í¸ì§‘ (autosave ìœ ì§€ ê°€ëŠ¥)
- ê´€ë ¨ íƒœìŠ¤í¬ ë¦¬ìŠ¤íŠ¸/ë¯¸ë‹ˆ ì¹¸ë°˜
- expected/realized impact ë³´ê¸° ë° Pending ì œì•ˆ ì—°ê²°
- ê´€ë ¨ ì—”í‹°í‹° ë§í¬ (Track/Condition/Hypothesis)ë¡œ ì´ë™

### FR-4. Pending Review

- list/detail/entity-preview 3-pane ìœ ì§€
- workflow/run_id/status í•„í„°
- ìŠ¹ì¸/ê±°ì ˆ/ìˆ˜ì • í›„ ì¦‰ì‹œ ë°˜ì˜ + audit trace ì ‘ê·¼ ("ì™œ ì´ ë³€ê²½?")

### FR-5. Calendar

- due ê¸°ë°˜ task í‘œì‹œ (ì£¼/ì›”)
- Google Calendar ì—°ë™ (ì´ë¯¸ OAuth ê¸°ë°˜ ì‘ì—… ì¡´ì¬)
- ì›”ë·° overflow/+more ë“± UX ê°œì„  (ê¸°ì¡´ v1 backlog ë°˜ì˜)

### FR-6. Graph

- ì—”í‹°í‹° ê·¸ë˜í”„ íƒìƒ‰
- ë…¸ë“œ ì„ íƒ ì‹œ ìƒì„¸ drawer ë˜ëŠ” í”„ë¡œì íŠ¸/íƒœìŠ¤í¬ë¡œ ì´ë™

### FR-7. Program (Admin)

- Program ìƒì„±/ê´€ë¦¬
- Program-Round ì¡°ì¸ ë°ì´í„° ì¡°íšŒ (ê¸°ì¡´ programRoundsData íë¦„ ìœ ì§€)

### FR-8. ê³µí†µ

- ë¡œê·¸ì¸/JWT ê´€ë¦¬ (í˜„ì¬ localStorage ê¸°ë°˜ ìœ ì§€ ê°€ëŠ¥)
- ë‹¨ì¶•í‚¤ (ë·° ì „í™˜/í•„í„°/ê²€ìƒ‰ ë“±)ëŠ” v2ì—ì„œë„ ìœ ì§€Â·í™•ì¥

---

## ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ (NFR)

### ê´€ì¸¡ì„±

- API ì‹¤íŒ¨/ê¶Œí•œ ì˜¤ë¥˜/ì„±ëŠ¥ (ì´ˆê¸° ë¡œë”©, ë¼ìš°íŠ¸ ì „í™˜) ë¡œê·¸ ìˆ˜ì§‘

### ì•ˆì „ì„±

- autosave ì‹œ race condition ë°©ì§€ (ë™ì‹œ ì €ì¥/ë‚¡ì€ ì‘ë‹µ ë®ì–´ì“°ê¸° ë°©ì§€)

### í™•ì¥ì„±

- tasks/projects ì¦ê°€ì— ëŒ€ë¹„í•œ í˜ì´ì§€ë„¤ì´ì…˜/ê°€ìƒ ìŠ¤í¬ë¡¤

---

## ë§ˆì´ê·¸ë ˆì´ì…˜ ê³„íš

### Phase 1: Frontend ì•„í‚¤í…ì²˜ ì „í™˜ (1-2ì£¼)

1. React/TS í”„ë¡œì íŠ¸ ìŠ¤ìºí´ë“œ + React Router ì„¤ì •
2. React Query ë° API í´ë¼ì´ì–¸íŠ¸ ì„¤ì •
3. Layout ë° ê³µí†µ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
4. `/kanban` ë¼ìš°íŠ¸ êµ¬í˜„ (FR-1 Kanban)
5. Task Drawer êµ¬í˜„ (FR-2 Task Drawer)
6. ê¸°ì¡´ v1ê³¼ ë³‘í–‰ ë°°í¬ ì„¤ì •

### Phase 2: Pending ë¶„ë¦¬ (2-4ì£¼)

7. `/pending` ë¼ìš°íŠ¸ êµ¬í˜„ (FR-4 Pending Review)
8. Pending ìŠ¹ì¸/ê±°ë¶€ í”Œë¡œìš°
9. Pending ìƒíƒœ ê´€ë¦¬ ìµœì í™” (pending-panel.js ë¹„ëŒ€í™” í•´ì†Œ)

### Phase 3: Calendar/Graph ë¶„ë¦¬ + ì„±ëŠ¥ (4-8ì£¼)

10. `/calendar` ë¼ìš°íŠ¸ êµ¬í˜„ (FR-5 Calendar, lazy load)
11. `/graph` ë¼ìš°íŠ¸ êµ¬í˜„ (FR-6 Graph, lazy load)
12. `/projects/:id` ìƒì„¸ í˜ì´ì§€ (FR-3 Project Detail)
13. API - `/api/dashboard-init` ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
14. ì„±ëŠ¥ ìµœì í™” (ìºì‹œ cold start ì œê±°)

### Phase 4: ìš´ì˜ í’ˆì§ˆ (8-12ì£¼)

15. `/program` ê´€ë¦¬ì í˜ì´ì§€ (FR-7 Program)
16. ê°€ìƒ ìŠ¤í¬ë¡¤ ë° í˜ì´ì§€ë„¤ì´ì…˜
17. ê¶Œí•œ ë¶„ë¦¬ ë° ë³´ì•ˆ ê°•í™” (exec C-level)
18. ê´€ì¸¡ì„± ë° ì—ëŸ¬ ëª¨ë‹ˆí„°ë§ (NFR)

---

## Tasks

íƒœìŠ¤í¬ëŠ” ë³„ë„ë¡œ ìƒì„± ì˜ˆì •.

---

## ìš´ì˜ ì›ì¹™ (SSOT ê¹¨ì§ ë°©ì§€)

### ìˆ˜ì • í—ˆìš©

âœ… frontmatter (SSOT)

### ìˆ˜ì • ê¸ˆì§€

âŒ `_build/*`, `_Graph_Index.md` (derived)

â†’ ëŒ€ì‹œë³´ë“œëŠ” **ì ˆëŒ€ derivedë¥¼ ì§ì ‘ ìˆ˜ì •í•˜ì§€ ì•ŠìŒ**

---

## êµ¬í˜„ ì§„í–‰ ìƒí™© (2026-01-08 ê¸°ì¤€)

### Task í˜„í™©

| Task ID | ì´ë¦„ | ìƒíƒœ |
| --- | --- | --- |
| `tsk-022-20` | í”„ë¡œì íŠ¸ ì´ˆê¸°í™” | âœ… done |
| `tsk-022-23` | Kanban ë³´ë“œ êµ¬í˜„ | âœ… done |
| `tsk-022-25` | Pending Review í˜ì´ì§€ | â³ todo |

### í”„ë¡œì íŠ¸ êµ¬ì¡°

```
dashboard-v2/src/
â”œâ”€â”€ pages/
â”‚   â””â”€â”€ Kanban/              # ì¹¸ë°˜ í˜ì´ì§€
â”œâ”€â”€ features/
â”‚   â”œâ”€â”€ tasks/               # Task ê´€ë ¨
â”‚   â”‚   â”œâ”€â”€ components/Kanban/
â”‚   â”‚   â”‚   â”œâ”€â”€ KanbanBoard.tsx    # DnD ë³´ë“œ
â”‚   â”‚   â”‚   â”œâ”€â”€ KanbanColumn.tsx   # ì»¬ëŸ¼ (Droppable)
â”‚   â”‚   â”‚   â””â”€â”€ TaskCard.tsx       # ì¹´ë“œ (Draggable)
â”‚   â”‚   â””â”€â”€ selectors.ts           # í•„í„°ë§ ë¡œì§
â”‚   â”œâ”€â”€ calendar/            # ìº˜ë¦°ë” ê´€ë ¨
â”‚   â”‚   â”œâ”€â”€ CalendarPage.tsx       # ë©”ì¸ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ CalendarView.tsx   # FullCalendar ë˜í¼
â”‚   â”‚   â”‚   â”œâ”€â”€ CalendarSidebar.tsx # Google ê³„ì • ê´€ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ CustomToolbar.tsx  # íˆ´ë°”
â”‚   â”‚   â”‚   â”œâ”€â”€ ContextMenu.tsx    # ìš°í´ë¦­ ë©”ë‰´
â”‚   â”‚   â”‚   â””â”€â”€ EventPopover.tsx   # ì´ë²¤íŠ¸ íŒì˜¤ë²„
â”‚   â”‚   â”œâ”€â”€ queries/
â”‚   â”‚   â”‚   â”œâ”€â”€ useCalendarEvents.ts  # ë³‘í•© (Task + Google)
â”‚   â”‚   â”‚   â”œâ”€â”€ useGoogleCalendars.ts # ê³„ì • ëª©ë¡
â”‚   â”‚   â”‚   â”œâ”€â”€ useGoogleEvents.ts    # Google ì´ë²¤íŠ¸
â”‚   â”‚   â”‚   â””â”€â”€ useUpdateTaskDates.ts # D&D ë‚ ì§œ ì—…ë°ì´íŠ¸
â”‚   â”‚   â”œâ”€â”€ hooks/useCalendarUi.ts    # localStorage ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ utils/eventTransformers.ts # Task â†’ Event ë³€í™˜
â”‚   â”‚   â””â”€â”€ types/
â”‚   â””â”€â”€ filters/             # ê³µí†µ í•„í„° íŒ¨ë„
â””â”€â”€ queries/                 # React Query hooks
```

### Kanban ë³´ë“œ (FR-1) - âœ… ì™„ë£Œ

| ê¸°ëŠ¥ | ìƒíƒœ | êµ¬í˜„ |
| --- | --- | --- |
| 5-ì»¬ëŸ¼ ë Œë”ë§ | âœ… | `todo/doing/hold/done/blocked` |
| Drag & Drop | âœ… | `@hello-pangea/dnd` ì‚¬ìš© |
| ë‹´ë‹¹ì í•„í„° (multi-select) | âœ… | URL params + `useKanbanFilters` |
| Project í•„í„° | âœ… | URL params |
| Week/Month í€µ í•„í„° | âœ… | \`dateFilter: 'W' |
| URL ìƒíƒœ ìœ ì§€ | âœ… | `useKanbanFilters` hook |
| ì¹´ë“œ í´ë¦­ â†’ Drawer | âœ… | `UiContext.openEditTask()` |
| Track/Condition/Hypothesis í•„í„° | âœ… | `applyUrlFilters()` |

**í•µì‹¬ ì½”ë“œ**:

- `selectors.ts:163` - `buildKanbanColumns()` ë©”ì¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
- `KanbanBoard.tsx:28` - D&D `onDragEnd` â†’ status ì—…ë°ì´íŠ¸

### Calendar ë·° (FR-5) - âœ… ì™„ë£Œ

| ê¸°ëŠ¥ | ìƒíƒœ | êµ¬í˜„ |
| --- | --- | --- |
| FullCalendar í†µí•© | âœ… | `@fullcalendar/react` |
| Month/Week/Day ë·° | âœ… | `dayGridPlugin`, `timeGridPlugin` |
| Task í‘œì‹œ | âœ… | `transformTaskToEvent()` |
| Google Calendar ì—°ë™ | âœ… | `useGoogleEvents()` |
| Google ê³„ì • ê´€ë¦¬ ì‚¬ì´ë“œë°” | âœ… | `CalendarSidebar.tsx` |
| ìº˜ë¦°ë” í† ê¸€ (on/off) | âœ… | `useCalendarUi()` + localStorage |
| D&D ë‚ ì§œ ë³€ê²½ | âœ… | `eventDrop`, `eventResize` â†’ API |
| ë‚ ì§œ í´ë¦­ â†’ Context Menu | âœ… | `ContextMenu.tsx` |
| Google ì´ë²¤íŠ¸ íŒì˜¤ë²„ | âœ… | `EventPopover.tsx` |
| Expand/+more í† ê¸€ | âœ… | `expandMode` (ì›”ë·°) |

**í•µì‹¬ ì½”ë“œ**:

- `useCalendarEvents.ts` - Task + Google ì´ë²¤íŠ¸ ë³‘í•© (order: Google=0, Task=1)
- `CalendarView.tsx:77` - `eventDrop` â†’ `useUpdateTaskDates` mutation
- `eventTransformers.ts:26` - `transformTaskToEvent()` ë‚ ì§œ ê²€ì¦ + ë³€í™˜

### ê¸°ìˆ  ìŠ¤íƒ

- **React 19** + TypeScript
- **React Query** (ì„œë²„ ìƒíƒœ)
- **@hello-pangea/dnd** (Kanban D&D)
- **@fullcalendar/react** (Calendar)
- **localStorage** (UI ì„¤ì • persist)
- **Tailwind CSS** (ìŠ¤íƒ€ì¼ë§)

### ê°œì„  í•„ìš” ì‚¬í•­

1. `CalendarPage.tsx:36` - `any` íƒ€ì… ì‚¬ìš© (FullCalendar ref)
2. `eventTransformers.ts:15` - `getProjectColor()` TODO ë¯¸êµ¬í˜„
3. Task í´ë¦­ ì‹œ Drawer ì—°ê²° (`CalendarPage.tsx:94`) - console.logë§Œ ìˆìŒ

### ë‹¤ìŒ ë‹¨ê³„

1. **Pending Review í˜ì´ì§€** (`tsk-022-25`) - 3-pane ë ˆì´ì•„ì›ƒ
2. Task Drawer ì™„ì„± (Calendarì—ì„œ Task í´ë¦­ ì‹œ ì—°ê²°)
3. `getProjectColor()` ì‹¤ì œ êµ¬í˜„ (Track ìƒ‰ìƒ ë°˜ì˜)

---

## Notes

### ì‚°ì¶œë¬¼

ë‹¤ìŒ 3ê°œ ë¬¸ì„œë¡œ í™•ì¥ ê°€ëŠ¥:

1. Dashboard v2 PRD (IA/ê¶Œí•œ/í˜ì´ì§€/í”Œë¡œìš°/ì„±ê³µì§€í‘œ)
2. API Spec (`/api/dashboard-init` í¬í•¨, payload schema)
3. Frontend Architecture (í´ë” êµ¬ì¡°, query key, routing, ìƒíƒœ ê·œì¹™)

---

## ì°¸ê³  ë¬¸ì„œ

- \[\[pgm-vault-system\]\] - ì†Œì† Program
- \[\[trk-2\]\] - ì†Œì† Track
- \[\[prj-dashboard-ux-v1\]\] - ì„ í–‰ í”„ë¡œì íŠ¸ (Dashboard UX v1)
- \[\[00_Meta/schema_constants.yaml\]\] - SSOT

---

**Created**: 2026-01-07 **Owner**: ê¹€ì€í–¥