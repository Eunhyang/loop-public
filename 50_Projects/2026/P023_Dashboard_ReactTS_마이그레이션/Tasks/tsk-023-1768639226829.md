---
entity_type: Task
entity_id: tsk-023-1768639226829
entity_name: Entity Validator - validates 가설 추천 프롬프트 개선
created: '2026-01-17'
updated: '2026-01-17'
status: done
project_id: prj-023
parent_id: prj-023
assignee: 김은향
priority: medium
start_date: '2026-01-17'
due: '2026-01-17'
aliases:
- tsk-023-1768639226829
tags: []
type: dev
target_project: loop
---

# Entity Validator - validates 가설 추천 프롬프트 개선

## 설명

Entity Validator에서 validates 가설 추천 시 LLM이 프로젝트 이름 키워드를 무시하고 의미적 유사성으로만 추천하는 문제 수정.

## Notes

### Summary
와디즈 프로젝트(prj-002)에 앱 유료화 가설(hyp-6-01~03) 대신 와디즈 캠페인 가설(hyp-6-09)이 추천되도록 프롬프트 개선.

### Changes Made
- `api/prompts/context_builder.py`: 프로젝트 description 필드 추가
- `api/prompts/expected_impact.py`: validates 선택 기준 섹션 추가
  1. 프로젝트 이름 키워드 ↔ 가설 질문 키워드 매칭 우선
  2. 직접 검증 가설만 선택
  3. 의미적 유사성보다 명시적 키워드 매칭 우선

### Root Cause
- LLM이 "와디즈 - 12주 습관 코칭 패키지"에서 "습관"에 초점
- "와디즈" 키워드와 hyp-6-09 ("와디즈 같은 캠페인이...") 연결 놓침
- 프롬프트에 키워드 매칭 기준 없었음

### Commit
`c53a1966d` - fix(prompts): validates 선택 기준 명확화 - 키워드 매칭 우선
