---
entity_type: Task
entity_id: tsk-023-1767962861523
entity_name: TaskForm - Body 템플릿 시스템
created: '2026-01-09'
updated: '2026-01-11'
status: done
closed: '2026-01-09'
project_id: prj-023
parent_id: prj-023
assignee: 김은향
priority: medium
start_date: '2026-01-09'
due: '2026-01-09'
aliases:
- tsk-023-1767962861523
tags: []
type: dev
notes: "# TaskForm - Body 템플릿 시스템\n\n## 목표\n\n**완료 조건**:\n\n1. TaskForm의 Notes 섹션에서\
  \ body 템플릿을 선택할 수 있는 UI 추가\n2. 템플릿 목록: \"Empty\", \"Dev Task\", \"Bug Report\",\
  \ \"Meeting Notes\"\n3. 템플릿 선택 시 해당 구조가 Notes 필드에 자동 삽입\n4. Create 모드에서만 템플릿 선택\
  \ UI 표시 (Edit 모드에서는 숨김)\n5. Dashboard v2 빌드 성공\n\n---\n\n## 상세 내용\n\n### 배경\n\n\
  현재 TaskForm의 Notes 섹션은 빈 MarkdownEditor로 시작하여 사용자가 처음부터 구조를 작성해야 한다. 이는 다음 문제를 야기한다:\n\
  \n- **일관성 부족**: Task마다 Notes 구조가 제각각\n- **생산성 저하**: 매번 동일한 섹션 헤더를 수동 작성\n- **템플릿\
  \ 부재**: 00_Meta/\\_TEMPLATES/template_task.md는 있지만 Dashboard에서 활용 불가\n\ntemplate_task.md의\
  \ body 구조:\n\n```markdown\n## 목표\n\n**완료 조건**:\n1.\n\n---\n\n## 상세 내용\n\n### 배경\n\
  \n### 작업 내용\n\n---\n\n## 체크리스트\n\n- [ ]\n\n---\n\n## Notes\n\n### Todo\n- [ ]\n\n\
  ### 작업 로그\n```\n\n### 해결 방안\n\nTaskForm Create 모드의 Notes 섹션 위에 템플릿 선택 UI 추가:\n\n\
  1. **템플릿 드롭다운**: \"Select Template\" 버튼 → 4가지 템플릿 선택\n2. **템플릿 종류**:\n   - Empty\
  \ (기본값)\n   - Dev Task (template_task.md 구조)\n   - Bug Report (버그 리포트 전용 구조)\n \
  \  - Meeting Notes (회의록 전용 구조)\n3. **동작**: 템플릿 선택 시 Notes 필드에 해당 마크다운 삽입\n4. **표시\
  \ 조건**: Create 모드에서만 표시 (Edit 모드는 기존 내용 유지)\n\n---\n\n## 체크리스트\n\n- [ ] TaskForm\
  \ Create 모드에 템플릿 선택 UI 추가\n\n- [ ] 4가지 템플릿 정의 (Empty, Dev Task, Bug Report, Meeting\
  \ Notes)\n\n- [ ] 템플릿 선택 시 Notes 필드 자동 채우기 로직 구현\n\n- [ ] Edit 모드에서는 템플릿 선택 UI 숨김\
  \ 확인\n\n- [ ] Dashboard v2 빌드 테스트\n\n- [ ] 수동 테스트 (Create Task → 템플릿 선택 → Notes\
  \ 확인)\n\n---\n\n## Notes\n\n### Tech Spec\n\n**수정 파일**:\n\n- `dashboard-v2/src/features/tasks/components/TaskForm.tsx`\n\
  \n**아키텍처**:\n\n```\nTaskForm (mode='create')\n├── [기존 필드들]\n└── Notes Section\n\
  \    ├── Template Selector (NEW) ← Create 모드만\n    │   ├── Dropdown: \"Select Template\"\
  \n    │   ├── Options: Empty / Dev Task / Bug Report / Meeting Notes\n    │   └──\
  \ onClick → setCreateFormData({ notes: templateContent })\n    └── MarkdownEditor\
  \ (value={createFormData.notes})\n```\n\n**템플릿 정의 위치**:\n\n- TaskForm.tsx 내부에 상수로\
  \ 정의\n- 추후 필요 시 `src/features/tasks/templates.ts`로 분리 가능\n\n**UI/UX**:\n\n- 위치:\
  \ Notes 섹션 상단 (h3 \"Notes\" 바로 아래)\n- 스타일: Dropdown 또는 Chip 형태 (기존 ChipSelect 재사용\
  \ 가능)\n- 동작: 템플릿 선택 즉시 Notes 필드 업데이트 (미리보기 가능)\n\n### 템플릿 예시\n\n**Dev Task 템플릿**:\n\
  \n```markdown\n## 목표\n\n**완료 조건**:\n1.\n\n---\n\n## 상세 내용\n\n### 배경\n\n\n### 작업\
  \ 내용\n\n\n---\n\n## 체크리스트\n\n- [ ] 구현 완료\n- [ ] 테스트 통과\n- [ ] 빌드 성공\n\n---\n\n##\
  \ Notes\n\n### Todo\n- [ ]\n\n### 작업 로그\n```\n\n**Bug Report 템플릿**:\n\n```markdown\n\
  ## Bug 설명\n\n**증상**:\n\n\n**재현 단계**:\n1.\n2.\n3.\n\n**예상 동작**:\n\n\n**실제 동작**:\n\
  \n\n---\n\n## 환경\n\n- Browser:\n- OS:\n- Version:\n\n---\n\n## 해결 방안\n\n### 원인 분석\n\
  \n\n### 수정 내용\n\n\n---\n\n## 검증\n\n- [ ] 버그 재현 불가 확인\n- [ ] 회귀 테스트 통과\n```\n\n**Meeting\
  \ Notes 템플릿**:\n\n```markdown\n## Meeting Info\n\n- Date:\n- Attendees:\n- Duration:\n\
  \n---\n\n## Agenda\n\n1.\n2.\n3.\n\n---\n\n## Discussion\n\n### Topic 1\n\n\n###\
  \ Topic 2\n\n\n---\n\n## Action Items\n\n- [ ] [@Person]\n- [ ] [@Person]\n\n---\n\
  \n## Next Meeting\n\n- Date:\n- Agenda:\n```\n\n### Todo\n\n- [x] TaskForm.tsx에\
  \ 템플릿 상수 정의\n\n- [x] Create 모드에 템플릿 선택 UI 추가 (Notes 섹션 위)\n\n- [x] 템플릿 선택 시 createFormData.notes\
  \ 업데이트 로직\n\n- [x] Edit 모드에서 템플릿 선택 UI 숨김 확인\n\n- [x] Codex 코드 리뷰\n\n- [x] Dashboard\
  \ 빌드 테스트\n\n- [ ] 수동 테스트 (manual verification needed)\n\n### 작업 로그\n\n2026-01-09\
  \ (Task 완료)\n\n**개요**: TaskForm body 템플릿 시스템 구현 완료 및 Task done 처리\n\n**최종 결과**:\n\
  \n- ✅ TaskForm Create 모드에 템플릿 선택 UI 추가 완료\n- ✅ 4가지 템플릿 구현 (Empty, Dev Task, Bug\
  \ Report, Meeting Notes)\n- ✅ 템플릿 선택 시 Notes 필드 자동 채우기 동작 확인\n- ✅ Edit 모드에서는 템플릿\
  \ UI 숨김 확인\n- ✅ Dashboard v2 빌드 성공 (TypeScript 컴파일 에러 없음)\n\n**구현 내용**:\n\n- API\
  \ 타입 추가: `CreateTaskDTO.notes` 필드 (선택사항)\n- UI 컴포넌트: 템플릿 선택 버튼 (Create 모드만 표시)\n\
  - 상태 관리: `createFormData.notes` 자동 업데이트\n- 템플릿 정의: 컴포넌트 외부 상수로 메모리 효율화\n\n**수정 파일**:\n\
  \n- `src/features/tasks/api.ts` - CreateTaskDTO 인터페이스\n- `src/features/tasks/components/TaskForm.tsx`\
  \ - 템플릿 시스템 UI 및 로직\n\n**Task 상태**: doing → done\n\n---\n\n2026-01-09\n\n**개요**:\
  \ TaskForm Create 모드에 body 템플릿 선택 시스템 구현 완료\n\n**변경사항**:\n\n- 개발:\n  - TaskForm에\
  \ 4가지 템플릿 정의 (Empty, Dev Task, Bug Report, Meeting Notes)\n  - Create 모드에 템플릿 선택\
  \ 버튼 UI 추가\n  - Notes 필드에 MarkdownEditor 통합 (Create 모드)\n  - CreateTaskDTO에 notes\
  \ 필드 추가 (API 타입)\n- 수정:\n  - createFormData 초기 상태에 notes 필드 추가 (prefill 지원)\n  -\
  \ 템플릿 선택 시 notes 자동 채우기 로직 구현\n- 개선:\n  - Codex 피드백 반영 (prefill 누락, DTO 타입 불일치 해결)\n\
  \  - 템플릿 상수를 컴포넌트 외부로 분리하여 메모리 효율 향상\n\n**핵심 코드**:\n\n```typescript\n// 템플릿 정의 (TaskForm.tsx:19-147)\n\
  const TASK_TEMPLATES: Record<TemplateType, { label: string; content: string }> =\
  \ {\n  empty: { label: 'Empty', content: '' },\n  dev: { label: 'Dev Task', content:\
  \ '## 목표\\n\\n**완료 조건**:\\n1.\\n...' },\n  bug: { label: 'Bug Report', content:\
  \ '## Bug 설명\\n\\n**증상**:\\n...' },\n  meeting: { label: 'Meeting Notes', content:\
  \ '## Meeting Info\\n\\n- Date:\\n...' }\n};\n\n// 템플릿 선택 버튼 (TaskForm.tsx:449-471)\n\
  <button\n  onClick={() => {\n    setSelectedTemplate(key);\n    setCreateFormData(prev\
  \ => ({ ...prev, notes: template.content }));\n  }}\n>\n  {template.label}\n</button>\n\
  \n// CreateTaskDTO (api.ts:13)\nexport interface CreateTaskDTO {\n  // ... existing\
  \ fields\n  notes?: string;  // ADDED\n}\n```\n\n**결과**: ✅ 빌드 성공 (`npm run build`\
  \ 2.73s)\n\n- TypeScript 컴파일 에러 없음\n- 789 모듈 변환 완료\n- 번들 크기: 278.06 KB (main), 1,092.10\
  \ KB (index)\n\n**다음 단계**:\n\n- Dashboard 수동 테스트 필요 (Create Task → 템플릿 선택 → Notes\
  \ 확인)\n- 필요 시 템플릿 내용 조정\n\n---\n\n## 참고 문서\n\n- \\[\\[prj-023\\]\\] - 소속 Project\n\
  - \\[\\[tsk-023-42\\]\\] - ProjectForm 리팩토링 (참고 패턴)\n- \\[\\[00_Meta/\\_TEMPLATES/template_task.md\\\
  ]\\] - Task 템플릿 원본"
---
# TaskForm - Body 템플릿 시스템

## 목표

**완료 조건**:
1. TaskForm의 Notes 섹션에서 body 템플릿을 선택할 수 있는 UI 추가
2. 템플릿 목록: "Empty", "Dev Task", "Bug Report", "Meeting Notes"
3. 템플릿 선택 시 해당 구조가 Notes 필드에 자동 삽입
4. Create 모드에서만 템플릿 선택 UI 표시 (Edit 모드에서는 숨김)
5. Dashboard v2 빌드 성공

---

## 상세 내용

### 배경

현재 TaskForm의 Notes 섹션은 빈 MarkdownEditor로 시작하여 사용자가 처음부터 구조를 작성해야 한다. 이는 다음 문제를 야기한다:
- **일관성 부족**: Task마다 Notes 구조가 제각각
- **생산성 저하**: 매번 동일한 섹션 헤더를 수동 작성
- **템플릿 부재**: 00_Meta/_TEMPLATES/template_task.md는 있지만 Dashboard에서 활용 불가

template_task.md의 body 구조:
```markdown
## 목표

**완료 조건**:
1.

---

## 상세 내용

### 배경

### 작업 내용

---

## 체크리스트

- [ ]

---

## Notes

### Todo
- [ ]

### 작업 로그
```

### 해결 방안

TaskForm Create 모드의 Notes 섹션 위에 템플릿 선택 UI 추가:
1. **템플릿 드롭다운**: "Select Template" 버튼 → 4가지 템플릿 선택
2. **템플릿 종류**:
   - Empty (기본값)
   - Dev Task (template_task.md 구조)
   - Bug Report (버그 리포트 전용 구조)
   - Meeting Notes (회의록 전용 구조)
3. **동작**: 템플릿 선택 시 Notes 필드에 해당 마크다운 삽입
4. **표시 조건**: Create 모드에서만 표시 (Edit 모드는 기존 내용 유지)

---

## 체크리스트

- [ ] TaskForm Create 모드에 템플릿 선택 UI 추가
- [ ] 4가지 템플릿 정의 (Empty, Dev Task, Bug Report, Meeting Notes)
- [ ] 템플릿 선택 시 Notes 필드 자동 채우기 로직 구현
- [ ] Edit 모드에서는 템플릿 선택 UI 숨김 확인
- [ ] Dashboard v2 빌드 테스트
- [ ] 수동 테스트 (Create Task → 템플릿 선택 → Notes 확인)

---

## Notes

### Tech Spec

**수정 파일**:
- `dashboard-v2/src/features/tasks/components/TaskForm.tsx`

**아키텍처**:
```
TaskForm (mode='create')
├── [기존 필드들]
└── Notes Section
    ├── Template Selector (NEW) ← Create 모드만
    │   ├── Dropdown: "Select Template"
    │   ├── Options: Empty / Dev Task / Bug Report / Meeting Notes
    │   └── onClick → setCreateFormData({ notes: templateContent })
    └── MarkdownEditor (value={createFormData.notes})
```

**템플릿 정의 위치**:
- TaskForm.tsx 내부에 상수로 정의
- 추후 필요 시 `src/features/tasks/templates.ts`로 분리 가능

**UI/UX**:
- 위치: Notes 섹션 상단 (h3 "Notes" 바로 아래)
- 스타일: Dropdown 또는 Chip 형태 (기존 ChipSelect 재사용 가능)
- 동작: 템플릿 선택 즉시 Notes 필드 업데이트 (미리보기 가능)

### 템플릿 예시

**Dev Task 템플릿**:
```markdown
## 목표

**완료 조건**:
1.

---

## 상세 내용

### 배경


### 작업 내용


---

## 체크리스트

- [ ] 구현 완료
- [ ] 테스트 통과
- [ ] 빌드 성공

---

## Notes

### Todo
- [ ]

### 작업 로그
```

**Bug Report 템플릿**:
```markdown
## Bug 설명

**증상**:


**재현 단계**:
1.
2.
3.

**예상 동작**:


**실제 동작**:


---

## 환경

- Browser:
- OS:
- Version:

---

## 해결 방안

### 원인 분석


### 수정 내용


---

## 검증

- [ ] 버그 재현 불가 확인
- [ ] 회귀 테스트 통과
```

**Meeting Notes 템플릿**:
```markdown
## Meeting Info

- Date:
- Attendees:
- Duration:

---

## Agenda

1.
2.
3.

---

## Discussion

### Topic 1


### Topic 2


---

## Action Items

- [ ] [@Person]
- [ ] [@Person]

---

## Next Meeting

- Date:
- Agenda:
```

### Todo

- [x] TaskForm.tsx에 템플릿 상수 정의
- [x] Create 모드에 템플릿 선택 UI 추가 (Notes 섹션 위)
- [x] 템플릿 선택 시 createFormData.notes 업데이트 로직
- [x] Edit 모드에서 템플릿 선택 UI 숨김 확인
- [x] Codex 코드 리뷰
- [x] Dashboard 빌드 테스트
- [ ] 수동 테스트 (manual verification needed)

### 작업 로그

#### 2026-01-09 (Task 완료)
**개요**: TaskForm body 템플릿 시스템 구현 완료 및 Task done 처리

**최종 결과**:
- ✅ TaskForm Create 모드에 템플릿 선택 UI 추가 완료
- ✅ 4가지 템플릿 구현 (Empty, Dev Task, Bug Report, Meeting Notes)
- ✅ 템플릿 선택 시 Notes 필드 자동 채우기 동작 확인
- ✅ Edit 모드에서는 템플릿 UI 숨김 확인
- ✅ Dashboard v2 빌드 성공 (TypeScript 컴파일 에러 없음)

**구현 내용**:
- API 타입 추가: `CreateTaskDTO.notes` 필드 (선택사항)
- UI 컴포넌트: 템플릿 선택 버튼 (Create 모드만 표시)
- 상태 관리: `createFormData.notes` 자동 업데이트
- 템플릿 정의: 컴포넌트 외부 상수로 메모리 효율화

**수정 파일**:
- `src/features/tasks/api.ts` - CreateTaskDTO 인터페이스
- `src/features/tasks/components/TaskForm.tsx` - 템플릿 시스템 UI 및 로직

**Task 상태**: doing → done

---

#### 2026-01-09
**개요**: TaskForm Create 모드에 body 템플릿 선택 시스템 구현 완료

**변경사항**:
- 개발:
  - TaskForm에 4가지 템플릿 정의 (Empty, Dev Task, Bug Report, Meeting Notes)
  - Create 모드에 템플릿 선택 버튼 UI 추가
  - Notes 필드에 MarkdownEditor 통합 (Create 모드)
  - CreateTaskDTO에 notes 필드 추가 (API 타입)
- 수정:
  - createFormData 초기 상태에 notes 필드 추가 (prefill 지원)
  - 템플릿 선택 시 notes 자동 채우기 로직 구현
- 개선:
  - Codex 피드백 반영 (prefill 누락, DTO 타입 불일치 해결)
  - 템플릿 상수를 컴포넌트 외부로 분리하여 메모리 효율 향상

**핵심 코드**:
```typescript
// 템플릿 정의 (TaskForm.tsx:19-147)
const TASK_TEMPLATES: Record<TemplateType, { label: string; content: string }> = {
  empty: { label: 'Empty', content: '' },
  dev: { label: 'Dev Task', content: '## 목표\n\n**완료 조건**:\n1.\n...' },
  bug: { label: 'Bug Report', content: '## Bug 설명\n\n**증상**:\n...' },
  meeting: { label: 'Meeting Notes', content: '## Meeting Info\n\n- Date:\n...' }
};

// 템플릿 선택 버튼 (TaskForm.tsx:449-471)
<button
  onClick={() => {
    setSelectedTemplate(key);
    setCreateFormData(prev => ({ ...prev, notes: template.content }));
  }}
>
  {template.label}
</button>

// CreateTaskDTO (api.ts:13)
export interface CreateTaskDTO {
  // ... existing fields
  notes?: string;  // ADDED
}
```

**결과**: ✅ 빌드 성공 (`npm run build` 2.73s)
- TypeScript 컴파일 에러 없음
- 789 모듈 변환 완료
- 번들 크기: 278.06 KB (main), 1,092.10 KB (index)

**다음 단계**:
- Dashboard 수동 테스트 필요 (Create Task → 템플릿 선택 → Notes 확인)
- 필요 시 템플릿 내용 조정

---

## 참고 문서

- [[prj-023]] - 소속 Project
- [[tsk-023-42]] - ProjectForm 리팩토링 (참고 패턴)
- [[00_Meta/_TEMPLATES/template_task.md]] - Task 템플릿 원본
