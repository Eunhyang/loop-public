---
entity_type: "Task"
entity_id: "tsk-coops-1769331320464"
entity_name: "Opportunity ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ API ìŠ¤í‚¤ë§ˆ ë§¤ì¹­"
project_id: "prj-content-os-ops"
assignee: "ê¹€ì€í–¥"
status: "done"
type: "dev"
created_at: "2026-01-25"
updated_at: "2026-01-25"
---

# Opportunity ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ API ìŠ¤í‚¤ë§ˆ ë§¤ì¹­

## Notes

### Summary
opportunity-card.tsxë¥¼ ì‹¤ì œ YouTube API ì‘ë‹µ ìŠ¤í‚¤ë§ˆì— ë§ê²Œ ì „ë©´ ì¬ì‘ì„±. ê¸°ì¡´ ê°€ìƒ í•„ë“œ(marketScore, fitScore ë“±)ë¥¼ ì‹¤ì œ API í•„ë“œ(finalScore, contributionScore, impactScore, exposureGrade)ë¡œ êµì²´.

### Changes Made
- `types/content-os.ts`: `YouTubeOpportunity` ì¸í„°í˜ì´ìŠ¤ ì¶”ê°€, `OpportunityFilters` ìˆ˜ì •
- `opportunity/components/opportunity-card.tsx`: ì¸ë„¤ì¼, 3-score grid, ì•¡ì…˜ë²„íŠ¼ UI ì „ë©´ ì¬ì‘ì„±
- `opportunity/selectors.ts`: í•„í„° ë¡œì§ (keyword, exposureGrade, period)
- `opportunity/components/opportunity-filters.tsx`: í•„í„° UI ì»´í¬ë„ŒíŠ¸
- `opportunity/api.ts`: normalizerì—ì„œ `recommendedBundle` ì œê±°

### Plan

# Opportunity ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ - API ì‘ë‹µ ìŠ¤í‚¤ë§ˆ ë§¤ì¹­

> **ëª©í‘œ**: opportunity-card.tsxë¥¼ ì‹¤ì œ API ì‘ë‹µ(YouTube ìˆ˜ì§‘ ë°ì´í„°)ì— ë§ê²Œ ìˆ˜ì •
> **ì°¸ì¡°**: prj-content-os-ops LLM Work Rules

---

## ë¬¸ì œ ìƒí™©

**API ì‘ë‹µ** (ì‹¤ì œ):
```json
{
  "thumbnailUrl": "https://i.ytimg.com/...",
  "title": "ì—­ëŒ€ê¸‰ìœ¼ë¡œ ì›ƒê²¼ë˜ í­ì‹ ë…¼ë€",
  "titleKo": "ì—­ëŒ€ê¸‰ìœ¼ë¡œ ì›ƒê²¼ë˜ í­ì‹ ë…¼ë€",
  "channelTitle": "êµ³ëšœì…€ëŸ½",
  "views": 1363325,
  "velocity": 11720.42,
  "finalScore": 10,
  "contributionScore": 10,
  "impactScore": 11.96,
  "exposureGrade": "Great",
  "keyword": "í­ì‹",
  "subscribers": 67200,
  "publishedAt": "2026-01-20T08:40:00Z"
}
```

**í”„ë¡ íŠ¸ì—”ë“œ ê¸°ëŒ€** (ë¶ˆì¼ì¹˜):
```
marketScore, fitScore, saturationScore, whyNow,
recommendedBundle, targetLoop, format, purposeType
```

---

## ìˆ˜ì • ëŒ€ìƒ íŒŒì¼

| íŒŒì¼ | ìˆ˜ì • ë‚´ìš© |
|------|----------|
| `dashboard-v2/src/features/content-os/opportunity/components/opportunity-card.tsx` | ì¹´ë“œ UIë¥¼ API ì‘ë‹µì— ë§ê²Œ ì¬ì‘ì„± |
| `dashboard-v2/src/types/content-os.ts` | `YouTubeOpportunity` íƒ€ì… ì¶”ê°€ |
| `dashboard-v2/src/features/content-os/opportunity/api.ts` | normalizer ìˆ˜ì • |

---

## ì¬ì‚¬ìš©í•  ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸

| ì»´í¬ë„ŒíŠ¸ | ìœ„ì¹˜ | ìš©ë„ |
|---------|------|------|
| `ExposureBadge` | `explorer/components/Badges.tsx` | ë…¸ì¶œ ë“±ê¸‰ (Great/Good/Normal/Bad) |
| `VelocityBadge` | `explorer/components/Badges.tsx` | ì‹œê°„ë‹¹ ì¡°íšŒìˆ˜ |
| `formatCount()` | `explorer/components/VideoTable.tsx` | ìˆ«ì í¬ë§· (K/M) |
| `getContributionLabel()` | `explorer/utils/contribution-label.ts` | ê¸°ì—¬ë„ ë¼ë²¨ |

---

## UI ì„¤ê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  ì—­ëŒ€ê¸‰ìœ¼ë¡œ ì›ƒê²¼ë˜   â”‚
â”‚ â”‚  ì¸ë„¤ì¼     â”‚  í­ì‹ ë…¼ë€           â”‚
â”‚ â”‚  40x24      â”‚                      â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  êµ³ëšœì…€ëŸ½ â€¢ 67.2K   â”‚
â”‚                  ì¡°íšŒìˆ˜ 1.36M        â”‚
â”‚                                      â”‚
â”‚  í‚¤ì›Œë“œ: í­ì‹                        â”‚
â”‚                                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Final Score          10.0       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚Contrib â”‚Impact  â”‚Exposureâ”‚       â”‚
â”‚  â”‚ 10.0   â”‚ 11.96  â”‚ Great  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                      â”‚
â”‚  ğŸš€ 11,720 vph  ğŸ“… 5ì¼ ì „           â”‚
â”‚                                      â”‚
â”‚  [â–¶ YouTube]  [ğŸ“ Draft]  [ğŸš«]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## êµ¬í˜„ ê³„íš

### Step 1: íƒ€ì… ì¶”ê°€ (`types/content-os.ts`)

```typescript
export interface YouTubeOpportunity {
  id: string;
  videoId: string;
  thumbnailUrl: string;
  title: string;
  titleKo: string;
  channelTitle: string;
  channelId: string;
  keyword: string;
  keywordId: string;
  // Metrics
  views: number;
  likes: number;
  comments: number;
  subscribers: number;
  velocity: number;
  // Scores
  finalScore: number;
  contributionScore: number;
  impactScore: number;
  exposureGrade: ExposureGrade;
  // Meta
  status: string;
  language: string;
  publishedAt: string;
  createdAt: string;
  updatedAt: string;
  // UI state
  isFavorite?: boolean;
  isExcluded?: boolean;
}
```

### Step 2: ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ ì¬ì‘ì„± (`opportunity-card.tsx`)

- Props: `YouTubeOpportunity` íƒ€ì… ì‚¬ìš©
- ì¸ë„¤ì¼ ì´ë¯¸ì§€ í‘œì‹œ
- ì œëª© (titleKo ìš°ì„ , fallback title)
- ì±„ë„ëª… + êµ¬ë…ì ìˆ˜ (formatCount)
- ì¡°íšŒìˆ˜ (formatCount)
- í‚¤ì›Œë“œ ë°°ì§€
- FinalScore ê°•ì¡° í‘œì‹œ
- 3-score grid: Contribution / Impact / Exposure(Badge)
- Velocity + ê²Œì‹œì¼
- ì•¡ì…˜ ë²„íŠ¼: YouTube ì—´ê¸°, Draft ìƒì„±, ì œì™¸

### Step 3: API normalizer ìˆ˜ì • (`api.ts`)

```typescript
const normalizeOpportunity = (opp: YouTubeOpportunity): YouTubeOpportunity => ({
  ...opp,
  isFavorite: opp.isFavorite ?? false,
  isExcluded: opp.isExcluded ?? false,
});
```

---

## LLM Work Rules ì¤€ìˆ˜

- [x] `src/features/content-os/` ë‚´ì—ì„œë§Œ ì‘ì—…
- [x] íƒ€ì…ì€ `src/types/content-os.ts`ì— ì •ì˜
- [x] explorer ì»´í¬ë„ŒíŠ¸ import í—ˆìš© (ê°™ì€ feature ë‚´)
- [x] `npm run build` í†µê³¼ í•„ìˆ˜

---

## ê²€ì¦ ë°©ë²•

1. **ë¹Œë“œ í™•ì¸**
   ```bash
   cd dashboard-v2 && npm run build
   ```

2. **UI í™•ì¸**
   - https://mcp.sosilab.synology.me/v2/content-os/opportunity
   - ì¸ë„¤ì¼, ì œëª©, ì ìˆ˜ í‘œì‹œ í™•ì¸
   - YouTube ë§í¬ ë™ì‘ í™•ì¸

3. **ë°ì´í„° í™•ì¸**
   - 124ê°œ Candidates ì¹´ë“œ í‘œì‹œ
   - ì •ë ¬/í•„í„° ë™ì‘
