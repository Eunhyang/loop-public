---
entity_type: Task
entity_id: tsk-yt-w02-26-02
entity_name: YouTube W02 - 폭식 Recovery Rountine MVP 기능 추가
created: '2026-01-03'
updated: '2026-01-20'
status: done
parent_id: prj-yt-W02-26
project_id: prj-yt-W02-26
aliases:
- tsk-yt-w02-26-02
outgoing_relations: []
validates: []
validated_by: []
assignee: 김은향
start_date: '2026-01-19'
due: '2026-01-19'
priority: medium
estimated_hours: null
actual_hours: null
type: dev
target_project: null
tags:
- youtube
- w02
- 원고-작성
priority_flag: medium
notes: null
start_time: '19:00'
end_time: '21:30'
---
# YouTube W02 - 원고 작성

> Task ID: `tsk-yt-w02-26-02` | Project: `prj-yt-W02-26` | Due: 2026-01-10

## 목표

**완료 조건**:
- [ ] 원고 작성 완료

---

## 체크리스트

- [ ]

---

## Notes

### PRD — 폭식 후 Recovery Routine MVP (앱 내 3-Step 회복 플로우)

#### 1. 개요

- **기능명**: 폭식 후 회복 루틴(Recovery Routine) MVP

- **목적**: 폭식 직후/다음날 사용자가 **절식·자책 루프**로 들어가기 전에, **짧고 빠른 화면 전환**으로 회복 행동을 실행하도록 돕는다.

- **UX 원칙**
  - **긴 글/설명 한 화면에 몰아넣지 않기**
  - **한 화면 = 한 행동(또는 한 선택)**
  - **짧게 입력 / 탭 중심**
  - 예외: **"감정 서술"만 긴 텍스트박스(자유서술**)로 충분한 공간 제공

---

#### 2. 문제 정의

**사용자가 겪는 문제**
- 폭식 후 **죄책감 → 절식/과운동 → 스트레스 → 재폭식** 루프에 빠짐
- "지금 뭘 해야 하지?"가 불명확해서 **아무것도 못하고 포기**하는 경우 많음

**제품이 해결할 문제**
- 회복을 "의지"가 아니라 **즉시 실행 가능한 3-step 행동**으로 전환
- "망했다" 인지를 **짧은 루틴 완료 경험**으로 바꿔 다음 행동을 정상화

---

#### 3. UI Flow

**[모달 타이틀]** 혹시 어제 과식(폭식)하셨나요?

**[서브]** 그렇다면 **'없던 일처럼'** 만드는 회복 루틴을 2분만 해볼까요?

**[선택지 버튼]**
- 네, 해볼래요
- 아니요 (닫기)

**[하단 작은 문구(선택)]** ※ 오늘의 목표는 "벌"이 아니라 "회복"이에요.

---

**[헤더]** 차분하게, 내 상황을 한 번 되돌아봐요.

**[서브 카피]** 지금처럼 **'알아차리는 것'**만으로도 다음 선택이 달라질 수 있어요.

(3단계 화면전환 flow로)

---

**① 어제 어떤 감정이었나요?**
(예: 스트레스, 외로움, 불안, 지침, 허무함, 분노, 기쁨)

**② 어떤 상황에서 시작됐나요? (트리거 - 복수선택)**
- 혼자 있는 시간
- 야근/과제 후
- 술/약속 후
- 다툼/관계 스트레스
- "오늘 망했다" 생각
- 기타: (직접 입력)

**③ 그 순간, 어떤 마음/생각이 들었나요?**
(예: "오늘은 그냥 먹자", "내일 빼면 돼", "이 정도는 괜찮아", "난 원래 그래")

**[하단 버튼]**
- 다음으로
- 건너뛰기

---

**[헤더]** 지금 이걸 적어낸 것만으로도, 정말 잘하셨어요.

**[위로/설명]** 우리가 "지우고 싶은 행동"을 **그대로 마주보는 순간**, 뇌는 그 일을 *다르게 저장*하기 시작해요. 오늘은 실패가 아니라 **회복으로 넘어가는 날**이에요.

**[짧은 한 줄(강조)]** 과식은 '사건'이 아니라 **지나가는 파도**였어요.

---

**[다음 제안]** 마지막으로, 오늘은 다이어트 대신 **'조금 더 신경 써서 온전히 식사'**해보는 건 어떨까요?

**[버튼]**
- 네, 오늘 식사 루틴으로 갈게요
- 스킵할래요

---

**[헤더]** 오늘은 "회복 식사" 모드로 가요 🌿

**[서브]** 목표는 줄이는 게 아니라, **속도를 낮추고 몸을 안정시키는 것**이에요.

**[추천 가이드 카드]**
- **20분 이상** 천천히 먹기
- 한 입당 **10번만** 더 씹어보기
- "배고픔/포만감"은 점수로만 가볍게 체크하기

**[버튼]**
- 회복 식사 타이머 시작
- 나중에 할게요

**[아래 작은 문구(선택)]** ※ 오늘은 "잘 먹는 연습"이 회복의 시작이에요.

---

### Summary
Recovery Routine MVP UI 전체 구현 완료. 6단계 플로우(인트로 → 감정 체크 → 트리거 선택 → 생각 기록 → 완료 → 식사 가이드)를 BLoC/Cubit 패턴으로 구현하고, 타이머 페이지에 진입점 추가.

### Changes Made
- **새 폴더**: `lib/presentation/recovery_routine/` (10개 파일)
  - `constants/recovery_options.dart` - 감정 7개, 트리거 6개 enum
  - `cubit/recovery_routine_cubit.dart` - 상태 관리
  - `cubit/recovery_routine_state.dart` - RecoveryStep enum, 상태 클래스
  - `page/recovery_routine_page.dart` - PageView + 프로그레스바
  - `widgets/recovery_intro_step.dart` - 인트로 (🧘 마음챙김 아이콘)
  - `widgets/emotion_check_step.dart` - 감정 선택 (GridView 3x3)
  - `widgets/trigger_select_step.dart` - 트리거 복수 선택 + 기타 입력
  - `widgets/thought_record_step.dart` - 생각 기록 TextField
  - `widgets/completion_step.dart` - 완료 (🌊 파도 테마)
  - `widgets/recovery_meal_guide_step.dart` - 회복 식사 가이드
- **수정**: `lib/core/routes/app_router.dart` - `/recovery-routine` 라우트 추가
- **수정**: `lib/presentation/timer/page/timer_page.dart` - 🌿 진입점 버튼 추가
- **커밋**: `2a278d8` on branch `tsk-yt-w02-26-02`

### Plan
# Recovery Routine MVP UI 구현 계획

## Task ID: `tsk-yt-w02-26-02`

## 📌 요구사항
- **UI 화면만 구현** (실제 기능/로직 구현 X)
- 버튼 탭 시 화면 전환만 동작 (데이터 저장 X)
- 타이머 연결은 네비게이션만 (기능 연동 X)

---

## 📁 폴더 구조

```
lib/presentation/recovery_routine/
├── page/
│   └── recovery_routine_page.dart      # 메인 페이지 (PageView)
├── cubit/
│   ├── recovery_routine_cubit.dart     # 상태 관리
│   └── recovery_routine_state.dart     # 상태 클래스
├── widgets/
│   ├── recovery_intro_step.dart        # 회고 인트로
│   ├── emotion_check_step.dart         # ① 감정 체크
│   ├── trigger_select_step.dart        # ② 트리거 선택
│   ├── thought_record_step.dart        # ③ 생각 기록
│   ├── completion_step.dart            # 완료 + 격려
│   └── recovery_meal_guide_step.dart   # 회복 식사 안내
└── constants/
    └── recovery_options.dart           # 감정/트리거 옵션 상수
```

---

## 🔄 구현 순서

### Step 1: 상수 및 상태 정의
| 순서 | 파일 | 내용 |
|------|------|------|
| 1-1 | `constants/recovery_options.dart` | 감정 7개 (이모지+라벨), 트리거 7개 |
| 1-2 | `cubit/recovery_routine_state.dart` | RecoveryStep enum, 선택값 상태 |
| 1-3 | `cubit/recovery_routine_cubit.dart` | nextStep, previousStep, 선택 토글 |

### Step 2: 위젯 구현
| 순서 | 파일 | 참조 패턴 |
|------|------|----------|
| 2-1 | `widgets/recovery_intro_step.dart` | 중앙 정렬 텍스트 + 시작 버튼 |
| 2-2 | `widgets/emotion_check_step.dart` | GridView 3x3, 단일 선택 |
| 2-3 | `widgets/trigger_select_step.dart` | ListView + ProfileOptionTile, 복수 선택 |
| 2-4 | `widgets/thought_record_step.dart` | TextField maxLines:6, 선택사항 |
| 2-5 | `widgets/completion_step.dart` | 체크 아이콘 + 격려 메시지 |
| 2-6 | `widgets/recovery_meal_guide_step.dart` | 가이드 카드 3개 + 타이머 버튼 |

### Step 3: 메인 페이지 + 라우팅
| 순서 | 파일 | 내용 |
|------|------|------|
| 3-1 | `page/recovery_routine_page.dart` | PageView + BlocProvider + 프로그레스바 |
| 3-2 | `app_router.dart` | `/recovery-routine` 라우트 추가 |

---

## 📱 화면 흐름

```
[인트로] → [① 감정] → [② 트리거] → [③ 생각] → [완료] → [식사 가이드] → [타이머]
```

---

## 🎨 핵심 참조 파일

| 패턴 | 파일 경로 |
|------|----------|
| PageView + 프로그레스바 | `lib/presentation/onboarding_profile/onboarding_profile_page.dart` |
| Cubit 상태 관리 | `lib/presentation/onboarding_profile/cubit/onboarding_profiling_state.dart` |
| 선택 타일 | `lib/presentation/onboarding_profile/widgets/profile_option_tile.dart` |
| 색상/폰트 | `lib/core/theme/color_schemes.dart`, `lib/core/theme/app_font.dart` |
| 라우팅 | `lib/core/routes/app_router.dart` |

---

## ✅ 검증 방법

1. **앱 실행**: `flutter run -d ios` 또는 `flutter run -d android`
2. **라우팅 테스트**: `/recovery-routine` 경로 직접 접근
3. **화면 전환 확인**:
   - 인트로 → 감정 (다음 버튼)
   - 감정 선택 → 트리거 (다음 버튼)
   - 트리거 복수 선택 → 생각 (다음 버튼)
   - 생각 입력(선택) → 완료 (완료 버튼)
   - 완료 → 식사 가이드 (회복 식사 버튼)
   - 식사 가이드 → 타이머 (타이머 시작 버튼)
4. **뒤로가기 확인**: 각 단계에서 뒤로가기 동작
5. **프로그레스바**: 1/3 → 2/3 → 3/3 애니메이션

---

## 🚀 브랜치

```bash
git checkout -b tsk-yt-w02-26-02
```

---

**Created**: 2026-01-03
**Assignee**: 한명학
**Due**: 2026-01-10
