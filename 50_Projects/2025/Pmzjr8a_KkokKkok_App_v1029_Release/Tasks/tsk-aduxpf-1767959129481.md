---
entity_type: Task
entity_id: tsk-aduxpf-1767959129481
entity_name: 앱 유로 구독 - iOS 구독 안 됨
created: '2026-01-09'
updated: '2026-01-10'
status: doing
project_id: prj-mzjr8a
parent_id: prj-mzjr8a
assignee: 김은향
priority: critical
start_date: '2026-01-09'
due: '2026-01-10'
aliases:
- tsk-aduxpf-1767959129481
tags: []
type: bug
notes: '앱 유로 구독 - iOS 구독 안 됨


  ## 설명


  iOS로 앱 구독 하려고 할 때, ''구독 상품을 찾을 수 없습니다''라고 팝업이 뜨면서 결제로 넘어가지 않음(월/연 결제 둘 다 동일)


  해당 문제는 갑작스럽게 되지 않음, 이전에는 되었는데


  현재 아이폰만 확인되었고, 안드로이드도 확인 필요


  ## 체크리스트


  - \[ \]


  ## 참고


  ![02e00ff3c8e9453b.PNG](https://mcp.sosilab.synology.me/api/tasks/tsk-aduxpf-1767959129481/attachments/02e00ff3c8e9453b.PNG?token=eyJhbGciOiJSUzI1NiIsImtpZCI6Imxvb3AtbWNwLWtleS0xIiwidHlwIjoiSldUIn0.eyJpc3MiOiJodHRwczovL21jcC5zb3NpbGFiLnN5bm9sb2d5Lm1lIiwiYXVkIjoiaHR0cHM6Ly9tY3Auc29zaWxhYi5zeW5vbG9neS5tZSIsInN1YiI6IjIiLCJzY29wZSI6Im1jcDpyZWFkIG1jcDpleGVjIiwiaWF0IjoxNzY3OTYyMjc1LCJleHAiOjE3Njc5NjU4NzUsImp0aSI6IkxuaGJpVTZkQzVuV1ZlZFlRZkNHWlEiLCJyb2xlIjoiYWRtaW4iLCJlbWFpbCI6ImV1bmh5YW5nQGtrb2tra29rLmFwcCJ9.ccmaY_8fXKzuGavU03G2UZlfAJHJVUGoM6kCAuVh6Q5xoiQSZcMdyUZ9gVhZiidluqDYMqJ6PNh1vM5CdALRgnqoFQBUY_9dwQ12ufm1Cy4C7XmOdMBqHjRRPhk7CSNUynMdnxevICuIIVv16T1svQp7LZvovqucqHhZPIC_QGutNmxjc1CoU1gXqShE1sqnaYNfPRi1LGA9pCU96J0QVzwkhU1kn6fwc9E6-a0GdWfLCDcENJ0JBXBiru1WmXG70ywYmMJJbllZECEfmfDgS2_HIzu_rSeghKOTbNicxf4rThSLKmdpksk8Jt1K94YVKYNX8L7IhwdYMXfQu2Ra7Q)'
---
# 앱 유로 구독 - iOS 구독 안 됨

## 설명

iOS로 앱 구독 하려고 할 때, '구독 상품을 찾을 수 없습니다'라고 팝업이 뜨면서 결제로 넘어가지 않음 (월/연 결제 둘 다 동일)

- 해당 문제는 갑작스럽게 되지 않음, 이전에는 되었는데
- 현재 아이폰만 확인되었고, 안드로이드도 확인 필요

## 에러 메시지

```
PlatformException(23, CONFIGURATION_ERROR)
"None of the products registered in the RevenueCat dashboard
could be fetched from App Store Connect"
```

## 디버깅 진행 상황 (2026-01-10)

### ✅ 확인 완료 (정상)

| 항목 | 결과 | 비고 |
|------|------|------|
| RevenueCat API Key | ✅ 정상 | `appl_KVomzGDQUranJTkxyCZSWVoYcvQ` |
| Product ID 일치 | ✅ 일치 | `pro_monthly_1`, `pro_annual_1` |
| Bundle ID | ✅ 일치 | `com.sosilab.kkokkkok` |
| App Store Connect 상품 상태 | ✅ Approved | 월간/연간 둘 다 |
| 테스트 환경 | ✅ 실제 기기 | 시뮬레이터 아님 |
| Sandbox 로그인 | ✅ 되어있음 | |
| StoreKit Configuration | ✅ 없음 | 로컬 테스트 파일 아님 |
| RevenueCat SDK | ✅ v9.2.3 | |
| RevenueCat 연결 | ✅ 정상 | CustomerInfo 조회 성공 |

### ❌ 문제 발견

**StoreKit 직접 조회 시 0개 상품 반환**

```dart
Purchases.getProducts(['pro_monthly_1', 'pro_annual_1'])
// 결과: 0개 상품
```

RevenueCat API 연결은 정상이지만, StoreKit에서 App Store Connect 상품을 가져오지 못함

### ❓ 추가 확인 필요

- [ ] RevenueCat 대시보드 → iOS App → **App Store Connect Shared Secret** 설정 여부
- [ ] TestFlight 빌드에서도 같은 문제인지 확인
- [ ] 정확히 언제부터 안 됐는지 시점 파악
- [ ] App Store Connect 계약, 세금 및 뱅킹 상태 재확인

### 🔍 디버그 로그 추가 위치

- `lib/presentation/subscribe/page/subscribe_page.dart` - `_loadOfferings()` 함수
  - RevenueCat 상세 디버그 로그 추가됨 (테스트 후 삭제 필요)

## 체크리스트

- [x] RevenueCat API Key 확인
- [x] Product ID 일치 확인
- [x] Bundle ID 확인
- [x] 실제 기기에서 테스트
- [x] StoreKit 직접 조회 테스트
- [ ] RevenueCat Shared Secret 확인
- [ ] TestFlight 빌드 테스트
- [ ] 원인 파악 및 수정
- [ ] 디버그 로그 제거

## 참고
