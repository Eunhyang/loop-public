---
entity_type: Task
entity_id: tsk-0000os-1768466105945
entity_name: Content OS - Migrate Explorer UI
created: '2026-01-15'
updated: '2026-01-15'
closed: '2026-01-15'
status: done
project_id: prj-content-os
parent_id: prj-content-os
assignee: 김은향
priority: medium
start_date: '2026-01-15'
due: '2026-01-15'
aliases:
- tsk-0000os-1768466105945
tags: []
type: dev
target_project: loop
---

# Content OS - Migrate Explorer UI

## 설명

Port the Explorer UI and search flow from Content OS standalone app to Dashboard V2 under `/content-os/explorer`.

## 체크리스트

- [ ] Port UI components and remove Next-only imports (`next/image`, `next/navigation`)
- [ ] Replace search API URL to `/api/content-os/youtube/search`
- [ ] Add query hooks in `queries.ts` using `httpClient`
- [ ] Confirm search results, filters, and badges render correctly
- [ ] Manual test for search with valid/invalid queries
- [ ] Verify no Firebase or Next dependencies remain in Explorer code

## 참고

### Prerequisites

**CRITICAL**: Read `/Users/gim-eunhyang/dev/loop/.agent/plan/prd-techspec-merge-content-os-into-dashboard-v2.md` before starting.

### Source Files (Content OS)

- Page: `code/apps/content-os/app/explorer/page.tsx`
- Components:
  - `code/apps/content-os/app/explorer/components/*`
  - `code/apps/content-os/app/explorer/components/search/*`
  - `code/apps/content-os/app/explorer/components/badges/*`
- Hooks and helpers:
  - `code/apps/content-os/app/explorer/hooks/use-youtube-search.ts`
  - `code/apps/content-os/app/explorer/hooks/use-search-history.ts`
  - `code/apps/content-os/app/explorer/hooks/use-local-storage.ts`
  - `code/apps/content-os/app/explorer/hooks/use-collection.ts`
  - `code/apps/content-os/app/explorer/lib/score-calculator.ts`
- Types:
  - `code/apps/content-os/types/video.ts`
  - `code/apps/content-os/types/youtube.ts`

### Target Files (Dashboard V2)

- Page: `code/dashboard-v2/src/pages/ContentOS/Explorer/index.tsx`
- Feature module:
  - `code/dashboard-v2/src/features/content-os/explorer/api.ts`
  - `code/dashboard-v2/src/features/content-os/explorer/queries.ts`
  - `code/dashboard-v2/src/features/content-os/explorer/components/*`
- Types: `code/dashboard-v2/src/types/content-os.ts`

### Tech Spec

**API Integration:**
- Endpoint: `GET /api/content-os/youtube/search`
- Query params: `q`, `maxResults`, `order`, `pageToken`
- Response: `YouTubeSearchResult` with `videos`, `totalResults`, `nextPageToken`, `quotaUsed`

**Query Key Pattern:**
```typescript
queryKeys.contentOsYouTubeSearch(params) -> ['content-os', 'youtube', 'search', params]
```

**Data Source Rules:**
- If search query length < 2: use local dummy dataset (same as existing behavior)
- Otherwise: call API endpoint

**Score Calculation:**
- Preserve identical logic from `score-calculator.ts`

**Local Storage Keys:**
- `search-history`
- `video-collection`
- `blocked-videos`
- `blocked-channels`

### Acceptance Criteria

- `/content-os/explorer` renders and can search successfully
- Search errors are displayed via error state
- No Firebase or Next dependencies remain in Explorer code
- Search history storage remains local (localStorage)
- Filters and badges render as before

### 작업 로그

#### 2026-01-15 20:55
**개요**: Explorer UI를 Dashboard V2에 이식하고 YouTube 검색 API 연동

**변경사항**
- 타입 확장: Video/YouTube/Explorer 필터/정렬/점수 라벨 정의 (`src/types/content-os.ts`)
- API/쿼리: `/api/content-os/youtube/search` 호출 및 React Query 훅 (`features/content-os/explorer/api.ts`, `queries.ts`)
- 로직/유틸: 점수 계산(processVideos), 더미 데이터, debounce/localStorage/검색 기록/보관·차단 관리 (`features/content-os/explorer/lib|data|hooks.ts`)
- UI: 검색 패널+기록, 필터바(기간/채널/조회수/정렬/차단 보기), 비디오 테이블(배지/보관/차단), 메인 뷰 연결, 페이지 연결 (`features/content-os/explorer/components/*`, `pages/ContentOS/Explorer/index.tsx`)
- 기본 동작: 검색어 2자 미만 시 더미 데이터, 그 이상 시 API 사용, 필터/정렬/배지 표시, 로컬스토리지에 검색 기록·보관·차단 상태 저장

**테스트**
- `npm run build` 미실행 (node_modules 미설치; 설치 후 빌드 필요)

**커밋**: `3f74e2a86` on branch `task/tsk-0000os-1768466105945`
