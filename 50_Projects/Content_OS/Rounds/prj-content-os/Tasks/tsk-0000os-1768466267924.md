---
entity_type: Task
entity_id: tsk-0000os-1768466267924
entity_name: Content OS - Migrate Performance UI
created: '2026-01-15'
updated: '2026-01-15'
status: todo
project_id: prj-content-os
parent_id: prj-content-os
assignee: 김은향
priority: medium
start_date: '2026-01-15'
due: '2026-01-15'
aliases:
- tsk-0000os-1768466267924
tags: []
type: dev
---

# Content OS - Migrate Performance UI

## 설명

Port the Performance dashboard and detail pages from Content OS to Dashboard V2 under `/content-os/performance`.

## Notes

### Tech Spec

**VERY IMPORTANT - READ FIRST**
- You MUST read `/Users/gim-eunhyang/dev/loop/.agent/plan/prd-techspec-merge-content-os-into-dashboard-v2.md` before starting this task.
- Do not proceed without reading it.

**Source files to migrate:**
- Pages:
  - `code/apps/content-os/app/performance/page.tsx`
  - `code/apps/content-os/app/performance/weekly/page.tsx`
  - `code/apps/content-os/app/performance/[videoId]/page.tsx`
- Components:
  - `code/apps/content-os/app/performance/components/*`
  - `code/apps/content-os/app/performance/weekly/components/*`
  - `code/apps/content-os/app/performance/[videoId]/components/*`
- Hooks:
  - `code/apps/content-os/app/performance/hooks/use-auth-status.ts`
  - `code/apps/content-os/app/performance/hooks/use-performance-data.ts`
  - `code/apps/content-os/app/performance/hooks/use-merged-performance.ts`
  - `code/apps/content-os/app/performance/hooks/use-snapshot.ts`
- Data:
  - `code/apps/content-os/app/performance/data/dummy-performance.ts`
- Types:
  - `code/apps/content-os/types/performance.ts`
  - `code/apps/content-os/types/youtube-analytics.ts`

**Target files (Dashboard V2):**
- Pages:
  - `code/dashboard-v2/src/pages/ContentOS/Performance/index.tsx`
  - `code/dashboard-v2/src/pages/ContentOS/Performance/VideoDetail.tsx`
- Feature module:
  - `code/dashboard-v2/src/features/content-os/performance/api.ts`
  - `code/dashboard-v2/src/features/content-os/performance/queries.ts`
  - `code/dashboard-v2/src/features/content-os/performance/components/*`

**Required behavior:**
- API base paths change to `/api/content-os/youtube/analytics/videos`.
- OAuth status uses `/api/content-os/auth/youtube/status`.
- If OAuth unauthenticated, show dummy data with warning (current behavior).

**API contract (explicit):**
- Analytics list: `GET /api/content-os/youtube/analytics/videos?maxResults=20`
- Dummy fallback: `GET /api/content-os/youtube/analytics/videos?maxResults=20&dummy=true`
- Auth status: `GET /api/content-os/auth/youtube/status`

**Query keys (explicit):**
- `queryKeys.contentOsYouTubeAnalytics(params)` -> `['content-os', 'youtube', 'analytics', params]`
- `queryKeys.contentOsYouTubeAuthStatus` -> `['content-os', 'youtube', 'auth', 'status']`

**Detail page rule:**
- Use list query and select by `videoId` (no separate detail endpoint).

### Todo

- [ ] Read master PRD at `/Users/gim-eunhyang/dev/loop/.agent/plan/prd-techspec-merge-content-os-into-dashboard-v2.md`
- [ ] Replace Next-only imports (`next/link`, `next/image`, `next/navigation`)
- [ ] Update hooks to call new API paths
- [ ] Ensure route params use React Router (`useParams`)
- [ ] Preserve chart rendering and filter logic
- [ ] Migrate Performance list page to `/content-os/performance`
- [ ] Migrate Video detail page to `/content-os/performance/:videoId`
- [ ] Verify OAuth status and dummy fallback behavior
- [ ] Manual UI and chart checks with dummy and authenticated states

## 체크리스트

- [ ] All source files migrated to Dashboard V2
- [ ] `/content-os/performance` route works end-to-end
- [ ] `/content-os/performance/:videoId` route works end-to-end
- [ ] OAuth status check implemented
- [ ] Dummy data fallback working
- [ ] Charts rendering correctly
- [ ] Filter logic preserved

## 참고

**Related PRD:** `/Users/gim-eunhyang/dev/loop/.agent/plan/prd-techspec-merge-content-os-into-dashboard-v2.md`
