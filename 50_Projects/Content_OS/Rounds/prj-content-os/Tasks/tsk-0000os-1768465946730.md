---
entity_type: Task
entity_id: tsk-0000os-1768465946730
entity_name: Content OS - Routing Navigation Integration
created: '2026-01-15'
updated: '2026-01-15'
status: done
closed: '2026-01-15'
project_id: prj-content-os
parent_id: prj-content-os
assignee: 김은향
priority: medium
start_date: '2026-01-15'
due: '2026-01-15'
aliases:
- tsk-0000os-1768465946730
tags: []
type: dev
notes: '# Content OS - Routing Navigation Integration


  ## 설명


  Define the exact routing tree and navigation entry points for Content OS inside
  Dashboard V2, without altering existing routes.


  ## 체크리스트


  - [ ] Review existing routes in `code/dashboard-v2/src/routes/index.tsx`


  - [ ] Draft the new nested routes under `AppLayout` and `ProtectedRoute`


  - [ ] Decide if Content OS should share the same header nav or use a new section


  - [ ] Document the exact route config and nav link placement


  - [ ] Create routing design doc at `/Users/gim-eunhyang/dev/loop/.agent/plan/content-os-routing-design.md`


  - [ ] Validate route table against the current router file


  ## 참고


  ## Notes


  ### PRD (Product Requirements Document)


  **IMPORTANT**: Read `/Users/gim-eunhyang/dev/loop/.agent/plan/prd-techspec-merge-content-os-into-dashboard-v2.md`
  before starting implementation.


  ### Purpose


  Define the exact routing tree and navigation entry points for Content OS inside
  Dashboard V2, without altering existing routes.


  ### Current Routing Baseline


  - Router file: `code/dashboard-v2/src/routes/index.tsx`

  - Layout: `code/dashboard-v2/src/components/layout/AppLayout.tsx`

  - Auth guard: `code/dashboard-v2/src/routes/ProtectedRoute.tsx`

  - Production basename: `basename: import.meta.env.PROD ? ''/v2'' : undefined`


  ### Target Route Tree


  | Path | Element | Purpose |

  | --- | --- | --- |

  | `/content-os` | Redirect | Redirect to `/content-os/opportunity` |

  | `/content-os/opportunity` | OpportunityPage | Content opportunity discovery |

  | `/content-os/explorer` | ExplorerPage | Content library exploration |

  | `/content-os/pipeline` | PipelinePage | Production pipeline (Kanban) |

  | `/content-os/retro` | RetroPage | Performance analysis & retrospective |

  | `/content-os/performance` | PerformancePage | Performance dashboard |

  | `/content-os/performance/:videoId` | VideoDetailPage | Video detail view |

  | `/content-os/performance/weekly` | WeeklyPerformancePage | Optional: Weekly performance
  (if parity required) |


  ### Navigation Touchpoints


  - **Header nav links**: `code/dashboard-v2/src/components/layout/Header.tsx`

  - **Sidebar**: `code/dashboard-v2/src/components/layout/Sidebar.tsx` (currently
  data filters only)


  ### Tech Spec


  Layout Choice


  - Use existing `AppLayout` and `ProtectedRoute`

  - No separate global layout component for Content OS

  - Optional: Add a small in-page subnav component inside Content OS pages if needed
  (local to Content OS pages)


  Navigation Decision


  - Add a header NavLink labeled `Content OS` pointing to `/content-os/opportunity`

  - Do not change the sidebar (keep filters-only behavior)

  - Do not create a second app-level sidebar for Content OS

  - Default landing link: `/content-os/opportunity`


  Basename Handling


  - Confirm all links use absolute paths that work with `/v2` basename

  - Production: `basename: import.meta.env.PROD ? ''/v2'' : undefined`


  ### Outputs


  Create routing design document:


  - Path: `/Users/gim-eunhyang/dev/loop/.agent/plan/content-os-routing-design.md`


  **Required content:**


  1. Route table (Path | Element | Lazy-loaded? | Notes)

  2. Layout choice (whether to use ContentOSLayout wrapper)

  3. Navigation decision (where Content OS links appear)

  4. Basename handling confirmation


  ### Implementation Checklist


  - [ ] Review existing routes in `code/dashboard-v2/src/routes/index.tsx`


  - [ ] Draft the new nested routes under `AppLayout` and `ProtectedRoute`


  - [ ] Decide if Content OS should share the same header nav or use a new section


  - [ ] Document the exact route config and nav link placement in routing design doc


  - [ ] Validate no route collisions with existing Dashboard V2 paths


  ### Acceptance Criteria


  - Routing design doc exists with explicit route definitions

  - Nav placement is clear and actionable

  - No route collisions with existing Dashboard V2 paths

  - All links work with `/v2` basename in production


  ### Validation


  - Manual review of the route table against the current router file

  - Verify basename handling for all Content OS routes


  ### Final Decision (To Implement)


  - Add a header NavLink labeled `Content OS` pointing to `/content-os/opportunity`

  - Do not change the sidebar (keep filters-only behavior)

  - Do not create a second app-level sidebar for Content OS

  - Use existing `AppLayout` and `ProtectedRoute`; no separate global layout component

  - Optional: Add a small in-page subnav component inside Content OS pages if needed,
  but keep it local to Content OS pages'
---
# Content OS - Routing Navigation Integration

## 설명

Define the exact routing tree and navigation entry points for Content OS inside Dashboard V2, without altering existing routes.

## 체크리스트

- [ ] Review existing routes in `code/dashboard-v2/src/routes/index.tsx`
- [ ] Draft the new nested routes under `AppLayout` and `ProtectedRoute`
- [ ] Decide if Content OS should share the same header nav or use a new section
- [ ] Document the exact route config and nav link placement
- [ ] Create routing design doc at `/Users/gim-eunhyang/dev/loop/.agent/plan/content-os-routing-design.md`
- [ ] Validate route table against the current router file

## 참고

## Notes

### PRD (Product Requirements Document)

**IMPORTANT**: Read `/Users/gim-eunhyang/dev/loop/.agent/plan/prd-techspec-merge-content-os-into-dashboard-v2.md` before starting implementation.

### Purpose

Define the exact routing tree and navigation entry points for Content OS inside Dashboard V2, without altering existing routes.

### Current Routing Baseline

- Router file: `code/dashboard-v2/src/routes/index.tsx`
- Layout: `code/dashboard-v2/src/components/layout/AppLayout.tsx`
- Auth guard: `code/dashboard-v2/src/routes/ProtectedRoute.tsx`
- Production basename: `basename: import.meta.env.PROD ? '/v2' : undefined`

### Target Route Tree

| Path | Element | Purpose |
|------|---------|---------|
| `/content-os` | Redirect | Redirect to `/content-os/opportunity` |
| `/content-os/opportunity` | OpportunityPage | Content opportunity discovery |
| `/content-os/explorer` | ExplorerPage | Content library exploration |
| `/content-os/pipeline` | PipelinePage | Production pipeline (Kanban) |
| `/content-os/retro` | RetroPage | Performance analysis & retrospective |
| `/content-os/performance` | PerformancePage | Performance dashboard |
| `/content-os/performance/:videoId` | VideoDetailPage | Video detail view |
| `/content-os/performance/weekly` | WeeklyPerformancePage | Optional: Weekly performance (if parity required) |

### Navigation Touchpoints

- **Header nav links**: `code/dashboard-v2/src/components/layout/Header.tsx`
- **Sidebar**: `code/dashboard-v2/src/components/layout/Sidebar.tsx` (currently data filters only)

### Tech Spec

#### Layout Choice

- Use existing `AppLayout` and `ProtectedRoute`
- No separate global layout component for Content OS
- Optional: Add a small in-page subnav component inside Content OS pages if needed (local to Content OS pages)

#### Navigation Decision

- Add a header NavLink labeled `Content OS` pointing to `/content-os/opportunity`
- Do not change the sidebar (keep filters-only behavior)
- Do not create a second app-level sidebar for Content OS
- Default landing link: `/content-os/opportunity`

#### Basename Handling

- Confirm all links use absolute paths that work with `/v2` basename
- Production: `basename: import.meta.env.PROD ? '/v2' : undefined`

### Outputs

Create routing design document:
- Path: `/Users/gim-eunhyang/dev/loop/.agent/plan/content-os-routing-design.md`

**Required content:**
1. Route table (Path | Element | Lazy-loaded? | Notes)
2. Layout choice (whether to use ContentOSLayout wrapper)
3. Navigation decision (where Content OS links appear)
4. Basename handling confirmation

### Implementation Checklist

- [ ] Review existing routes in `code/dashboard-v2/src/routes/index.tsx`
- [ ] Draft the new nested routes under `AppLayout` and `ProtectedRoute`
- [ ] Decide if Content OS should share the same header nav or use a new section
- [ ] Document the exact route config and nav link placement in routing design doc
- [ ] Validate no route collisions with existing Dashboard V2 paths

### Acceptance Criteria

- Routing design doc exists with explicit route definitions
- Nav placement is clear and actionable
- No route collisions with existing Dashboard V2 paths
- All links work with `/v2` basename in production

### Validation

- Manual review of the route table against the current router file
- Verify basename handling for all Content OS routes

### Final Decision (To Implement)

- Add a header NavLink labeled `Content OS` pointing to `/content-os/opportunity`
- Do not change the sidebar (keep filters-only behavior)
- Do not create a second app-level sidebar for Content OS
- Use existing `AppLayout` and `ProtectedRoute`; no separate global layout component
- Optional: Add a small in-page subnav component inside Content OS pages if needed, but keep it local to Content OS pages

### 작업 로그

#### 2026-01-15 14:30
**개요**: Content OS Routing Design 문서 작성 완료

**작업 내용**:
- Master PRD (`prd-techspec-merge-content-os-into-dashboard-v2.md`) 검토
- Dashboard V2 현재 라우팅 구조 분석 (`src/routes/index.tsx`)
- Header/Sidebar 네비게이션 구조 파악
- Content OS 라우팅 설계 문서 작성

**산출물**:
- `/Users/gim-eunhyang/dev/loop/.agent/plan/content-os-routing-design.md` (생성)

**주요 결정사항**:
1. **Route Prefix**: `/content-os/*` (기존 Dashboard 라우트와 충돌 없음)
2. **Layout**: 기존 `AppLayout` + `ProtectedRoute` 재사용 (별도 layout 불필요)
3. **Navigation**: Header에 "Content OS" NavLink 1개 추가 (→ `/content-os/opportunity`)
4. **Sidebar**: 변경 없음 (필터 전용 유지)
5. **Lazy Loading**: 모든 Content OS 페이지에 적용 (초기 번들 사이즈 최소화)
6. **Basename**: `/v2` production basename 호환 확인 완료

**Route Table**:
- `/content-os` → Redirect to `/content-os/opportunity`
- `/content-os/opportunity` → OpportunityPage
- `/content-os/explorer` → ExplorerPage
- `/content-os/pipeline` → PipelinePage
- `/content-os/retro` → RetroPage
- `/content-os/performance` → PerformancePage
- `/content-os/performance/:videoId` → VideoDetailPage
- `/content-os/performance/weekly` → WeeklyPerformancePage (optional)

**검증 완료**:
✅ 라우트 충돌 없음
✅ Basename (`/v2`) 호환성 확인
✅ Navigation placement 정의 완료

**결과**: ✅ Design task 완료 (구현 준비 완료)

**다음 단계**:
- 별도 implementation task에서 실제 route 추가 및 page component 생성
- Header navigation 업데이트
- Content OS feature migration
