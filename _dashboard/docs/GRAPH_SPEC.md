# LOOP Strategy Graph - Specification

## Overview

LOOP ì „ëµ ê³„ì¸µì„ ì‹œê°í™”í•˜ëŠ” ì¸í„°ë™í‹°ë¸Œ ê·¸ë˜í”„ ë·°. D3.js ê¸°ë°˜ force-directed ë ˆì´ì•„ì›ƒìœ¼ë¡œ ì—”í‹°í‹° ê°„ ê´€ê³„ë¥¼ í‘œì‹œ.

## Entity Hierarchy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3-Year Conditions (ìµœìƒìœ„)                                  â”‚
â”‚     ğŸ”‘ Condition A    ğŸ”‘ Condition B    ğŸ”‘ Condition C       â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  12-Month Tracks                                             â”‚
â”‚     ğŸ¯ Track 1    ğŸ¯ Track 2    ğŸ¯ Track 3    ...            â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  Projects / Hypotheses                                       â”‚
â”‚     ğŸ“ Project    ğŸ“ Project    ğŸ’¡ Hypothesis                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€» TaskëŠ” ê·¸ë˜í”„ì— í‘œì‹œí•˜ì§€ ì•ŠìŒ (Side Panelì—ì„œë§Œ í™•ì¸)
```

## Layer Configuration

| Layer | Entity Types | Y Position | Description |
|-------|--------------|------------|-------------|
| condition | Condition | 10% | 3-year ì „ëµ ì¡°ê±´ |
| track | Track | 28% | 12-month íˆ¬ì ë°©í–¥ |
| execution | Project, Hypothesis | 52% | ì‹¤í—˜/ê²€ì¦ ë‹¨ìœ„ |

**Note**: Task ë ˆì´ì–´ ì œê±°ë¨

## Node Styling

| Entity | Color | Icon | Radius |
|--------|-------|------|--------|
| Condition | #f97316 (ì£¼í™©) | ğŸ”‘ | 30 |
| Track | #238636 (ë…¹ìƒ‰) | ğŸ¯ | 26 |
| Project | #1f6feb (íŒŒë‘) | ğŸ“ | 22 |
| Hypothesis | #a371f7 (ë³´ë¼) | ğŸ’¡ | 22 |

## Link Types (Edges)

### í‘œì‹œí•  ì—°ê²°

| Source | Target | Type | Description |
|--------|--------|------|-------------|
| Condition | Track | contains | Track.parent_id â†’ Condition |
| Track | Project | part_of | Project.parent_id â†’ Track |
| Project | Hypothesis | validates | Project.validates â†’ Hypothesis |
| Track | Track | enables/depends_on | Track.outgoing_relations |

### ì œê±°ëœ ì—°ê²°

| Source | Target | Reason |
|--------|--------|--------|
| Task | Condition | ê³„ì¸µ ê±´ë„ˆëœ€ - ê·¸ë˜í”„ ë³µì¡í™” |
| Task | Hypothesis | Task ë…¸ë“œ ìì²´ê°€ ì—†ìŒ |
| Project | Condition | ê³„ì¸µ ê±´ë„ˆëœ€ - Track ê²½ìœ  ê¶Œì¥ |
| Task | Project | Task ë…¸ë“œ ìì²´ê°€ ì—†ìŒ |

## Side Panel Behavior

### Project í´ë¦­ ì‹œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Project                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ Project: P003_Ontology      â”‚
â”‚ Status: active              â”‚
â”‚ Owner: ì€í–¥                  â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ Progress                    â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 3/5 completed    â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ Tasks:                      â”‚  â† Task ëª©ë¡ í‘œì‹œ
â”‚  âœ… tsk:003-01 Schema ì •ì˜  â”‚
â”‚  ğŸ”„ tsk:003-02 Entity êµ¬í˜„  â”‚
â”‚  â¬œ tsk:003-03 Validation   â”‚
â”‚  â¬œ tsk:003-04 ë¬¸ì„œí™”       â”‚
â”‚  â¬œ tsk:003-05 Review       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Condition/Track í´ë¦­ ì‹œ

- í•´ë‹¹ ì—”í‹°í‹°ì˜ ìƒì„¸ ì •ë³´ í‘œì‹œ
- ì—°ê²°ëœ í•˜ìœ„ ì—”í‹°í‹° ëª©ë¡
- Metrics (Conditionì˜ ê²½ìš°)
- Progress (Trackì˜ ê²½ìš°)

## Implementation Files

```
_dashboard/
â”œâ”€â”€ css/
â”‚   â””â”€â”€ graph.css           # ê·¸ë˜í”„ ìŠ¤íƒ€ì¼ë§
â”œâ”€â”€ js/
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ graph.js        # D3.js ê·¸ë˜í”„ ë Œë”ë§
â”‚       â””â”€â”€ graphDetailPanel.js  # ì‚¬ì´ë“œ íŒ¨ë„
â””â”€â”€ docs/
    â””â”€â”€ GRAPH_SPEC.md       # ì´ ë¬¸ì„œ
```

## TODO

- [ ] Task ë…¸ë“œ ë° ê´€ë ¨ ë§í¬ ì œê±°
- [ ] Condition â†’ Track ì—°ê²° ì¶”ê°€
- [ ] Legend ì—…ë°ì´íŠ¸ (Task ì œê±°)
- [ ] í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

## Related Documents

- `CLAUDE.md` - LOOP ì „ëµ ê³„ì¸µ êµ¬ì¡° ì •ì˜
- `api/routers/` - API ì—”ë“œí¬ì¸íŠ¸
- `20_Strategy/` - Condition, Track ì—”í‹°í‹° íŒŒì¼
